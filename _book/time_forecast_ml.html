<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.290">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>R for Research in Action - 42&nbsp; Forecasting with Machine Learning Models</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./products.html" rel="next">
<link href="./time_forecast_arima.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./time_analysis.html">Part 6: Time Series</a></li><li class="breadcrumb-item"><a href="./time_forecast_ml.html"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Forecasting with Machine Learning Models</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R for Research in Action</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_objects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">R Objects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_types.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Types</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Packages</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_style.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Code Style</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Part 1: Manipulating Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manipu_reading.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Reading Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manipu_writing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Writing Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manipu_tidydata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Tidy Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manipu_transforming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Transforming Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manipu_subsetting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Subsetting R Objects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manipu_plyrdplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Plyr &amp; Dplyr</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manipu_date.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Date Manipulation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manipu_text.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Text Manipulation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manipu_databases.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">R and Data Bases</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Part 2: Statistics in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stats_descriptive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Descriptive Statistics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stats_exploratory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Exploratory Analysis Pipeline</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stats_inferential.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Inferential Statistics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stats_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Regression Analysis</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Part 3: Programming in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./program_habits.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Programming Habits</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./program_logic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Logic</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./program_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./program_iteration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Iteration</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./program_debugging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Debugging</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./program_profiling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Profiling R Code</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Part 4: Graphics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./graphs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Graphs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./graph_ggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Creating a ggplot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./graph_types.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Types of Graphs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Part 5: Modeling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model_flow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Modeling Workflow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model_spend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Spending Your Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model_fit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Fitting Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model_random.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Random Numbers</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">Part 6: Time Series</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">TS Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_objects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">TS Objects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_components.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">TS Components</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_decomposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Decomposition of TS</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_seasonality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Seasonality Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_correlation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Correlation Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_forecast_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Forecasting Basics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_forecast_ma.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Forecasting with Smoothing Methods (MA Models)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_forecast_exponential.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Forecasting with Exponential Smoothing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_forecast_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Forecasting with Linear Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_forecast_arima.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Forecasting with ARIMA Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time_forecast_ml.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Forecasting with Machine Learning Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
 <span class="menu-text">Part 7: Data Products</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./products.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Building Data Products</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./product_repro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Reproducible Reporting</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#exploratory-analysis" id="toc-exploratory-analysis" class="nav-link active" data-scroll-target="#exploratory-analysis"><span class="header-section-number">42.1</span> Exploratory Analysis</a>
  <ul class="collapse">
  <li><a href="#series-structure" id="toc-series-structure" class="nav-link" data-scroll-target="#series-structure"><span class="header-section-number">42.1.1</span> Series structure</a></li>
  <li><a href="#series-components" id="toc-series-components" class="nav-link" data-scroll-target="#series-components"><span class="header-section-number">42.1.2</span> Series components</a></li>
  <li><a href="#seasonal-analysis" id="toc-seasonal-analysis" class="nav-link" data-scroll-target="#seasonal-analysis"><span class="header-section-number">42.1.3</span> Seasonal analysis</a></li>
  <li><a href="#correlation-analysis" id="toc-correlation-analysis" class="nav-link" data-scroll-target="#correlation-analysis"><span class="header-section-number">42.1.4</span> Correlation analysis</a></li>
  <li><a href="#key-findings" id="toc-key-findings" class="nav-link" data-scroll-target="#key-findings"><span class="header-section-number">42.1.5</span> Key findings</a></li>
  </ul></li>
  <li><a href="#feature-engineering" id="toc-feature-engineering" class="nav-link" data-scroll-target="#feature-engineering"><span class="header-section-number">42.2</span> Feature Engineering</a></li>
  <li><a href="#training-testing-and-model-evaluation" id="toc-training-testing-and-model-evaluation" class="nav-link" data-scroll-target="#training-testing-and-model-evaluation"><span class="header-section-number">42.3</span> Training, Testing, and Model Evaluation</a></li>
  <li><a href="#model-benchmark" id="toc-model-benchmark" class="nav-link" data-scroll-target="#model-benchmark"><span class="header-section-number">42.4</span> Model Benchmark</a></li>
  <li><a href="#building-a-ml-model" id="toc-building-a-ml-model" class="nav-link" data-scroll-target="#building-a-ml-model"><span class="header-section-number">42.5</span> Building a ML Model</a>
  <ul class="collapse">
  <li><a href="#starting-a-h2o-cluster" id="toc-starting-a-h2o-cluster" class="nav-link" data-scroll-target="#starting-a-h2o-cluster"><span class="header-section-number">42.5.1</span> Starting a <code>h2o</code> Cluster</a></li>
  <li><a href="#training-an-ml-model" id="toc-training-an-ml-model" class="nav-link" data-scroll-target="#training-an-ml-model"><span class="header-section-number">42.5.2</span> Training an ML model</a></li>
  <li><a href="#forecasting-with-the-random-forest-model" id="toc-forecasting-with-the-random-forest-model" class="nav-link" data-scroll-target="#forecasting-with-the-random-forest-model"><span class="header-section-number">42.5.3</span> Forecasting with the Random Forest model</a></li>
  <li><a href="#model-optimization" id="toc-model-optimization" class="nav-link" data-scroll-target="#model-optimization"><span class="header-section-number">42.5.4</span> Model optimization</a></li>
  <li><a href="#forecasting-with-the-gbm-model" id="toc-forecasting-with-the-gbm-model" class="nav-link" data-scroll-target="#forecasting-with-the-gbm-model"><span class="header-section-number">42.5.5</span> Forecasting with the GBM model</a></li>
  <li><a href="#forecasting-with-the-automl-model" id="toc-forecasting-with-the-automl-model" class="nav-link" data-scroll-target="#forecasting-with-the-automl-model"><span class="header-section-number">42.5.6</span> Forecasting with the AutoML model</a></li>
  </ul></li>
  <li><a href="#selecting-the-final-model" id="toc-selecting-the-final-model" class="nav-link" data-scroll-target="#selecting-the-final-model"><span class="header-section-number">42.6</span> Selecting the Final Model</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Forecasting with Machine Learning Models</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In recent years, the use of <strong>machine learning (ML) models</strong> has become popular and accessible due to significant improvement in standard computation power. This led to a <strong>new world of methods</strong> and approaches for regression and classifications models.</p>
<p>The <strong>main advantage of the ML models</strong> is their predictive power (when quality inputs are available), which, in many cases, is worth the effort and time involved in the process. In the context of time series forecasting, it will be <strong>beneficial to forecast with ML models</strong> in the following cases:</p>
<ul>
<li><p><strong>Structural patterns</strong>: Exits in the series, as those can produce new, predictive features.</p></li>
<li><p><strong>Multiple seasonality</strong>: As a special case for structural patterns since, typically, the traditional time series models are struggling to capture those patterns when they exist.</p></li>
</ul>
<section id="exploratory-analysis" class="level2" data-number="42.1">
<h2 data-number="42.1" class="anchored" data-anchor-id="exploratory-analysis"><span class="header-section-number">42.1</span> Exploratory Analysis</h2>
<p>In this section, we will focus on exploring and learning about the main characteristics of the <strong>USVSales series</strong>. These insights will be used to build new features as inputs for the ML model. The exploratory analysis of the USVSales series will focus on the following topics:</p>
<ul>
<li>View the time series structure (frequency, start and end of the series, and so on).</li>
<li>Explore the series components (seasonal, cycle, trend, and random components).</li>
<li>Seasonality analysis.</li>
<li>Correlation analysis.</li>
</ul>
<section id="series-structure" class="level3" data-number="42.1.1">
<h3 data-number="42.1.1" class="anchored" data-anchor-id="series-structure"><span class="header-section-number">42.1.1</span> Series structure</h3>
<p>Let’s start with ts_info and review the structure of the USVSales series:</p>
<p><em>Example</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(TSstudio)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_info</span>(USVSales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> The USVSales series is a ts object with 1 variable and 528 observations
 Frequency: 12 
 Start time: 1976 1 
 End time: 2019 12 </code></pre>
</div>
</div>
<p>The <strong>USVSales series</strong> is a monthly <code>ts</code> object which represents the total vehicle sales in the US between 1976 and 2018 in thousands of units. Let’s plot the series and review its structure with the <code>ts_plot</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(USVSales,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"US Total Monthly Vehicle Sales"</span>,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">Ytitle =</span> <span class="st">"Thousands of Units"</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">Xtitle =</span> <span class="st">"Year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-63d2209a3ba941881628" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-63d2209a3ba941881628">{"x":{"visdat":{"30d01b8246db":["function () ","plotlyVisDat"]},"cur_data":"30d01b8246db","attrs":{"30d01b8246db":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#00526d"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Year","showgrid":false},"yaxis":{"domain":[0,1],"automargin":true,"title":"Thousands of Units","showgrid":false},"title":"US Total Monthly Vehicle Sales","hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1976,1976.0833333333333,1976.1666666666667,1976.25,1976.3333333333333,1976.4166666666667,1976.5,1976.5833333333333,1976.6666666666667,1976.75,1976.8333333333333,1976.9166666666667,1977,1977.0833333333333,1977.1666666666667,1977.25,1977.3333333333333,1977.4166666666667,1977.5,1977.5833333333333,1977.6666666666667,1977.75,1977.8333333333333,1977.9166666666667,1978,1978.0833333333333,1978.1666666666667,1978.25,1978.3333333333333,1978.4166666666667,1978.5,1978.5833333333333,1978.6666666666667,1978.75,1978.8333333333333,1978.9166666666667,1979,1979.0833333333333,1979.1666666666667,1979.25,1979.3333333333333,1979.4166666666667,1979.5,1979.5833333333333,1979.6666666666667,1979.75,1979.8333333333333,1979.9166666666667,1980,1980.0833333333333,1980.1666666666667,1980.25,1980.3333333333333,1980.4166666666667,1980.5,1980.5833333333333,1980.6666666666667,1980.75,1980.8333333333333,1980.9166666666667,1981,1981.0833333333333,1981.1666666666667,1981.25,1981.3333333333333,1981.4166666666667,1981.5,1981.5833333333333,1981.6666666666667,1981.75,1981.8333333333333,1981.9166666666667,1982,1982.0833333333333,1982.1666666666667,1982.25,1982.3333333333333,1982.4166666666667,1982.5,1982.5833333333333,1982.6666666666667,1982.75,1982.8333333333333,1982.9166666666667,1983,1983.0833333333333,1983.1666666666667,1983.25,1983.3333333333333,1983.4166666666667,1983.5,1983.5833333333333,1983.6666666666667,1983.75,1983.8333333333333,1983.9166666666667,1984,1984.0833333333333,1984.1666666666667,1984.25,1984.3333333333333,1984.4166666666667,1984.5,1984.5833333333333,1984.6666666666667,1984.75,1984.8333333333333,1984.9166666666667,1985,1985.0833333333333,1985.1666666666667,1985.25,1985.3333333333333,1985.4166666666667,1985.5,1985.5833333333333,1985.6666666666667,1985.75,1985.8333333333333,1985.9166666666667,1986,1986.0833333333333,1986.1666666666667,1986.25,1986.3333333333333,1986.4166666666667,1986.5,1986.5833333333333,1986.6666666666667,1986.75,1986.8333333333333,1986.9166666666667,1987,1987.0833333333333,1987.1666666666667,1987.25,1987.3333333333333,1987.4166666666667,1987.5,1987.5833333333333,1987.6666666666667,1987.75,1987.8333333333333,1987.9166666666667,1988,1988.0833333333333,1988.1666666666667,1988.25,1988.3333333333333,1988.4166666666667,1988.5,1988.5833333333333,1988.6666666666667,1988.75,1988.8333333333333,1988.9166666666667,1989,1989.0833333333333,1989.1666666666667,1989.25,1989.3333333333333,1989.4166666666667,1989.5,1989.5833333333333,1989.6666666666667,1989.75,1989.8333333333333,1989.9166666666667,1990,1990.0833333333333,1990.1666666666667,1990.25,1990.3333333333333,1990.4166666666667,1990.5,1990.5833333333333,1990.6666666666667,1990.75,1990.8333333333333,1990.9166666666667,1991,1991.0833333333333,1991.1666666666667,1991.25,1991.3333333333333,1991.4166666666667,1991.5,1991.5833333333333,1991.6666666666667,1991.75,1991.8333333333333,1991.9166666666667,1992,1992.0833333333333,1992.1666666666667,1992.25,1992.3333333333333,1992.4166666666667,1992.5,1992.5833333333333,1992.6666666666667,1992.75,1992.8333333333333,1992.9166666666667,1993,1993.0833333333333,1993.1666666666667,1993.25,1993.3333333333333,1993.4166666666667,1993.5,1993.5833333333333,1993.6666666666667,1993.75,1993.8333333333333,1993.9166666666667,1994,1994.0833333333333,1994.1666666666667,1994.25,1994.3333333333333,1994.4166666666667,1994.5,1994.5833333333333,1994.6666666666667,1994.75,1994.8333333333333,1994.9166666666667,1995,1995.0833333333333,1995.1666666666667,1995.25,1995.3333333333333,1995.4166666666667,1995.5,1995.5833333333333,1995.6666666666667,1995.75,1995.8333333333333,1995.9166666666667,1996,1996.0833333333333,1996.1666666666667,1996.25,1996.3333333333335,1996.4166666666667,1996.5,1996.5833333333335,1996.6666666666667,1996.75,1996.8333333333335,1996.9166666666667,1997,1997.0833333333335,1997.1666666666667,1997.25,1997.3333333333335,1997.4166666666667,1997.5,1997.5833333333335,1997.6666666666667,1997.75,1997.8333333333335,1997.9166666666667,1998,1998.0833333333335,1998.1666666666667,1998.25,1998.3333333333335,1998.4166666666667,1998.5,1998.5833333333335,1998.6666666666667,1998.75,1998.8333333333335,1998.9166666666667,1999,1999.0833333333335,1999.1666666666667,1999.25,1999.3333333333335,1999.4166666666667,1999.5,1999.5833333333335,1999.6666666666667,1999.75,1999.8333333333335,1999.9166666666667,2000,2000.0833333333335,2000.1666666666667,2000.25,2000.3333333333335,2000.4166666666667,2000.5,2000.5833333333335,2000.6666666666667,2000.75,2000.8333333333335,2000.9166666666667,2001,2001.0833333333335,2001.1666666666667,2001.25,2001.3333333333335,2001.4166666666667,2001.5,2001.5833333333335,2001.6666666666667,2001.75,2001.8333333333335,2001.9166666666667,2002,2002.0833333333335,2002.1666666666667,2002.25,2002.3333333333335,2002.4166666666667,2002.5,2002.5833333333335,2002.6666666666667,2002.75,2002.8333333333335,2002.9166666666667,2003,2003.0833333333335,2003.1666666666667,2003.25,2003.3333333333335,2003.4166666666667,2003.5,2003.5833333333335,2003.6666666666667,2003.75,2003.8333333333335,2003.9166666666667,2004,2004.0833333333335,2004.1666666666667,2004.25,2004.3333333333335,2004.4166666666667,2004.5,2004.5833333333335,2004.6666666666667,2004.75,2004.8333333333335,2004.9166666666667,2005,2005.0833333333335,2005.1666666666667,2005.25,2005.3333333333335,2005.4166666666667,2005.5,2005.5833333333335,2005.6666666666667,2005.75,2005.8333333333335,2005.9166666666667,2006,2006.0833333333335,2006.1666666666667,2006.25,2006.3333333333335,2006.4166666666667,2006.5,2006.5833333333335,2006.6666666666667,2006.75,2006.8333333333335,2006.9166666666667,2007,2007.0833333333335,2007.1666666666667,2007.25,2007.3333333333335,2007.4166666666667,2007.5,2007.5833333333335,2007.6666666666667,2007.75,2007.8333333333335,2007.9166666666667,2008,2008.0833333333335,2008.1666666666667,2008.25,2008.3333333333335,2008.4166666666667,2008.5,2008.5833333333335,2008.6666666666667,2008.75,2008.8333333333335,2008.9166666666667,2009,2009.0833333333335,2009.1666666666667,2009.25,2009.3333333333335,2009.4166666666667,2009.5,2009.5833333333335,2009.6666666666667,2009.75,2009.8333333333335,2009.9166666666667,2010,2010.0833333333335,2010.1666666666667,2010.25,2010.3333333333335,2010.4166666666667,2010.5,2010.5833333333335,2010.6666666666667,2010.75,2010.8333333333335,2010.9166666666667,2011,2011.0833333333335,2011.1666666666667,2011.25,2011.3333333333335,2011.4166666666667,2011.5,2011.5833333333335,2011.6666666666667,2011.75,2011.8333333333335,2011.9166666666667,2012,2012.0833333333335,2012.1666666666667,2012.25,2012.3333333333335,2012.4166666666667,2012.5,2012.5833333333335,2012.6666666666667,2012.75,2012.8333333333335,2012.9166666666667,2013,2013.0833333333335,2013.1666666666667,2013.25,2013.3333333333335,2013.4166666666667,2013.5,2013.5833333333335,2013.6666666666667,2013.75,2013.8333333333335,2013.9166666666667,2014,2014.0833333333335,2014.1666666666667,2014.25,2014.3333333333335,2014.4166666666667,2014.5,2014.5833333333335,2014.6666666666667,2014.75,2014.8333333333335,2014.9166666666667,2015,2015.0833333333335,2015.1666666666667,2015.25,2015.3333333333335,2015.4166666666667,2015.5,2015.5833333333335,2015.6666666666667,2015.75,2015.8333333333335,2015.9166666666667,2016,2016.0833333333335,2016.1666666666667,2016.25,2016.3333333333335,2016.4166666666667,2016.5,2016.5833333333335,2016.6666666666667,2016.75,2016.8333333333335,2016.9166666666667,2017,2017.0833333333335,2017.1666666666667,2017.25,2017.3333333333335,2017.4166666666667,2017.5,2017.5833333333335,2017.6666666666667,2017.75,2017.8333333333335,2017.9166666666667,2018,2018.0833333333335,2018.1666666666667,2018.25,2018.3333333333335,2018.4166666666667,2018.5,2018.5833333333335,2018.6666666666667,2018.75,2018.8333333333335,2018.9166666666667,2019,2019.0833333333335,2019.1666666666667,2019.25,2019.3333333333335,2019.4166666666667,2019.5,2019.5833333333335,2019.6666666666667,2019.75,2019.8333333333335,2019.9166666666667],"y":[885.20000000000005,994.70000000000005,1243.5999999999999,1191.2,1203.2,1254.7,1162.3,1026.0999999999999,1057.9000000000001,1129.4000000000001,1084.4000000000001,1061.8,969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001,1181.7149999999999,1328.1400000000001,1687.6089999999999,1391.2260000000001,1626.4839999999999,1586.664,1403.1179999999999,1527.4159999999999,1474.9970000000001,1405.9079999999999,1422.2190000000001,1665.9059999999999,1171.5029999999999,1288.278,1642.75,1372.6590000000001,1628.0740000000001,1554.748,1443.9469999999999,1685.3420000000001,1315.6320000000001,1380.1800000000001,1446.4829999999999,1565.0229999999999],"mode":"lines","line":{"color":"#00526d","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>As you can see in the preceding plot, the series has <strong>cycle patterns</strong>, which is common for a macro economy indicator. In this case, it is a macro indicator of the US economy.</p>
</section>
<section id="series-components" class="level3" data-number="42.1.2">
<h3 data-number="42.1.2" class="anchored" data-anchor-id="series-components"><span class="header-section-number">42.1.2</span> Series components</h3>
<p>We can get a deeper view of the series components by <strong>decomposing the series</strong> into its components and plotting them with the <code>ts_decompose</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_decompose</span>(USVSales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-9a54f66c7a3c3c941f25" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-9a54f66c7a3c3c941f25">{"x":{"data":[{"x":[1976,1976.0833333333333,1976.1666666666667,1976.25,1976.3333333333333,1976.4166666666667,1976.5,1976.5833333333333,1976.6666666666667,1976.75,1976.8333333333333,1976.9166666666667,1977,1977.0833333333333,1977.1666666666667,1977.25,1977.3333333333333,1977.4166666666667,1977.5,1977.5833333333333,1977.6666666666667,1977.75,1977.8333333333333,1977.9166666666667,1978,1978.0833333333333,1978.1666666666667,1978.25,1978.3333333333333,1978.4166666666667,1978.5,1978.5833333333333,1978.6666666666667,1978.75,1978.8333333333333,1978.9166666666667,1979,1979.0833333333333,1979.1666666666667,1979.25,1979.3333333333333,1979.4166666666667,1979.5,1979.5833333333333,1979.6666666666667,1979.75,1979.8333333333333,1979.9166666666667,1980,1980.0833333333333,1980.1666666666667,1980.25,1980.3333333333333,1980.4166666666667,1980.5,1980.5833333333333,1980.6666666666667,1980.75,1980.8333333333333,1980.9166666666667,1981,1981.0833333333333,1981.1666666666667,1981.25,1981.3333333333333,1981.4166666666667,1981.5,1981.5833333333333,1981.6666666666667,1981.75,1981.8333333333333,1981.9166666666667,1982,1982.0833333333333,1982.1666666666667,1982.25,1982.3333333333333,1982.4166666666667,1982.5,1982.5833333333333,1982.6666666666667,1982.75,1982.8333333333333,1982.9166666666667,1983,1983.0833333333333,1983.1666666666667,1983.25,1983.3333333333333,1983.4166666666667,1983.5,1983.5833333333333,1983.6666666666667,1983.75,1983.8333333333333,1983.9166666666667,1984,1984.0833333333333,1984.1666666666667,1984.25,1984.3333333333333,1984.4166666666667,1984.5,1984.5833333333333,1984.6666666666667,1984.75,1984.8333333333333,1984.9166666666667,1985,1985.0833333333333,1985.1666666666667,1985.25,1985.3333333333333,1985.4166666666667,1985.5,1985.5833333333333,1985.6666666666667,1985.75,1985.8333333333333,1985.9166666666667,1986,1986.0833333333333,1986.1666666666667,1986.25,1986.3333333333333,1986.4166666666667,1986.5,1986.5833333333333,1986.6666666666667,1986.75,1986.8333333333333,1986.9166666666667,1987,1987.0833333333333,1987.1666666666667,1987.25,1987.3333333333333,1987.4166666666667,1987.5,1987.5833333333333,1987.6666666666667,1987.75,1987.8333333333333,1987.9166666666667,1988,1988.0833333333333,1988.1666666666667,1988.25,1988.3333333333333,1988.4166666666667,1988.5,1988.5833333333333,1988.6666666666667,1988.75,1988.8333333333333,1988.9166666666667,1989,1989.0833333333333,1989.1666666666667,1989.25,1989.3333333333333,1989.4166666666667,1989.5,1989.5833333333333,1989.6666666666667,1989.75,1989.8333333333333,1989.9166666666667,1990,1990.0833333333333,1990.1666666666667,1990.25,1990.3333333333333,1990.4166666666667,1990.5,1990.5833333333333,1990.6666666666667,1990.75,1990.8333333333333,1990.9166666666667,1991,1991.0833333333333,1991.1666666666667,1991.25,1991.3333333333333,1991.4166666666667,1991.5,1991.5833333333333,1991.6666666666667,1991.75,1991.8333333333333,1991.9166666666667,1992,1992.0833333333333,1992.1666666666667,1992.25,1992.3333333333333,1992.4166666666667,1992.5,1992.5833333333333,1992.6666666666667,1992.75,1992.8333333333333,1992.9166666666667,1993,1993.0833333333333,1993.1666666666667,1993.25,1993.3333333333333,1993.4166666666667,1993.5,1993.5833333333333,1993.6666666666667,1993.75,1993.8333333333333,1993.9166666666667,1994,1994.0833333333333,1994.1666666666667,1994.25,1994.3333333333333,1994.4166666666667,1994.5,1994.5833333333333,1994.6666666666667,1994.75,1994.8333333333333,1994.9166666666667,1995,1995.0833333333333,1995.1666666666667,1995.25,1995.3333333333333,1995.4166666666667,1995.5,1995.5833333333333,1995.6666666666667,1995.75,1995.8333333333333,1995.9166666666667,1996,1996.0833333333333,1996.1666666666667,1996.25,1996.3333333333335,1996.4166666666667,1996.5,1996.5833333333335,1996.6666666666667,1996.75,1996.8333333333335,1996.9166666666667,1997,1997.0833333333335,1997.1666666666667,1997.25,1997.3333333333335,1997.4166666666667,1997.5,1997.5833333333335,1997.6666666666667,1997.75,1997.8333333333335,1997.9166666666667,1998,1998.0833333333335,1998.1666666666667,1998.25,1998.3333333333335,1998.4166666666667,1998.5,1998.5833333333335,1998.6666666666667,1998.75,1998.8333333333335,1998.9166666666667,1999,1999.0833333333335,1999.1666666666667,1999.25,1999.3333333333335,1999.4166666666667,1999.5,1999.5833333333335,1999.6666666666667,1999.75,1999.8333333333335,1999.9166666666667,2000,2000.0833333333335,2000.1666666666667,2000.25,2000.3333333333335,2000.4166666666667,2000.5,2000.5833333333335,2000.6666666666667,2000.75,2000.8333333333335,2000.9166666666667,2001,2001.0833333333335,2001.1666666666667,2001.25,2001.3333333333335,2001.4166666666667,2001.5,2001.5833333333335,2001.6666666666667,2001.75,2001.8333333333335,2001.9166666666667,2002,2002.0833333333335,2002.1666666666667,2002.25,2002.3333333333335,2002.4166666666667,2002.5,2002.5833333333335,2002.6666666666667,2002.75,2002.8333333333335,2002.9166666666667,2003,2003.0833333333335,2003.1666666666667,2003.25,2003.3333333333335,2003.4166666666667,2003.5,2003.5833333333335,2003.6666666666667,2003.75,2003.8333333333335,2003.9166666666667,2004,2004.0833333333335,2004.1666666666667,2004.25,2004.3333333333335,2004.4166666666667,2004.5,2004.5833333333335,2004.6666666666667,2004.75,2004.8333333333335,2004.9166666666667,2005,2005.0833333333335,2005.1666666666667,2005.25,2005.3333333333335,2005.4166666666667,2005.5,2005.5833333333335,2005.6666666666667,2005.75,2005.8333333333335,2005.9166666666667,2006,2006.0833333333335,2006.1666666666667,2006.25,2006.3333333333335,2006.4166666666667,2006.5,2006.5833333333335,2006.6666666666667,2006.75,2006.8333333333335,2006.9166666666667,2007,2007.0833333333335,2007.1666666666667,2007.25,2007.3333333333335,2007.4166666666667,2007.5,2007.5833333333335,2007.6666666666667,2007.75,2007.8333333333335,2007.9166666666667,2008,2008.0833333333335,2008.1666666666667,2008.25,2008.3333333333335,2008.4166666666667,2008.5,2008.5833333333335,2008.6666666666667,2008.75,2008.8333333333335,2008.9166666666667,2009,2009.0833333333335,2009.1666666666667,2009.25,2009.3333333333335,2009.4166666666667,2009.5,2009.5833333333335,2009.6666666666667,2009.75,2009.8333333333335,2009.9166666666667,2010,2010.0833333333335,2010.1666666666667,2010.25,2010.3333333333335,2010.4166666666667,2010.5,2010.5833333333335,2010.6666666666667,2010.75,2010.8333333333335,2010.9166666666667,2011,2011.0833333333335,2011.1666666666667,2011.25,2011.3333333333335,2011.4166666666667,2011.5,2011.5833333333335,2011.6666666666667,2011.75,2011.8333333333335,2011.9166666666667,2012,2012.0833333333335,2012.1666666666667,2012.25,2012.3333333333335,2012.4166666666667,2012.5,2012.5833333333335,2012.6666666666667,2012.75,2012.8333333333335,2012.9166666666667,2013,2013.0833333333335,2013.1666666666667,2013.25,2013.3333333333335,2013.4166666666667,2013.5,2013.5833333333335,2013.6666666666667,2013.75,2013.8333333333335,2013.9166666666667,2014,2014.0833333333335,2014.1666666666667,2014.25,2014.3333333333335,2014.4166666666667,2014.5,2014.5833333333335,2014.6666666666667,2014.75,2014.8333333333335,2014.9166666666667,2015,2015.0833333333335,2015.1666666666667,2015.25,2015.3333333333335,2015.4166666666667,2015.5,2015.5833333333335,2015.6666666666667,2015.75,2015.8333333333335,2015.9166666666667,2016,2016.0833333333335,2016.1666666666667,2016.25,2016.3333333333335,2016.4166666666667,2016.5,2016.5833333333335,2016.6666666666667,2016.75,2016.8333333333335,2016.9166666666667,2017,2017.0833333333335,2017.1666666666667,2017.25,2017.3333333333335,2017.4166666666667,2017.5,2017.5833333333335,2017.6666666666667,2017.75,2017.8333333333335,2017.9166666666667,2018,2018.0833333333335,2018.1666666666667,2018.25,2018.3333333333335,2018.4166666666667,2018.5,2018.5833333333335,2018.6666666666667,2018.75,2018.8333333333335,2018.9166666666667,2019,2019.0833333333335,2019.1666666666667,2019.25,2019.3333333333335,2019.4166666666667,2019.5,2019.5833333333335,2019.6666666666667,2019.75,2019.8333333333335,2019.9166666666667],"y":[885.20000000000005,994.70000000000005,1243.5999999999999,1191.2,1203.2,1254.7,1162.3,1026.0999999999999,1057.9000000000001,1129.4000000000001,1084.4000000000001,1061.8,969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001,1181.7149999999999,1328.1400000000001,1687.6089999999999,1391.2260000000001,1626.4839999999999,1586.664,1403.1179999999999,1527.4159999999999,1474.9970000000001,1405.9079999999999,1422.2190000000001,1665.9059999999999,1171.5029999999999,1288.278,1642.75,1372.6590000000001,1628.0740000000001,1554.748,1443.9469999999999,1685.3420000000001,1315.6320000000001,1380.1800000000001,1446.4829999999999,1565.0229999999999],"mode":"lines","line":{"color":"#00526d","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1976.5,1976.5833333333333,1976.6666666666667,1976.75,1976.8333333333333,1976.9166666666667,1977,1977.0833333333333,1977.1666666666667,1977.25,1977.3333333333333,1977.4166666666667,1977.5,1977.5833333333333,1977.6666666666667,1977.75,1977.8333333333333,1977.9166666666667,1978,1978.0833333333333,1978.1666666666667,1978.25,1978.3333333333333,1978.4166666666667,1978.5,1978.5833333333333,1978.6666666666667,1978.75,1978.8333333333333,1978.9166666666667,1979,1979.0833333333333,1979.1666666666667,1979.25,1979.3333333333333,1979.4166666666667,1979.5,1979.5833333333333,1979.6666666666667,1979.75,1979.8333333333333,1979.9166666666667,1980,1980.0833333333333,1980.1666666666667,1980.25,1980.3333333333333,1980.4166666666667,1980.5,1980.5833333333333,1980.6666666666667,1980.75,1980.8333333333333,1980.9166666666667,1981,1981.0833333333333,1981.1666666666667,1981.25,1981.3333333333333,1981.4166666666667,1981.5,1981.5833333333333,1981.6666666666667,1981.75,1981.8333333333333,1981.9166666666667,1982,1982.0833333333333,1982.1666666666667,1982.25,1982.3333333333333,1982.4166666666667,1982.5,1982.5833333333333,1982.6666666666667,1982.75,1982.8333333333333,1982.9166666666667,1983,1983.0833333333333,1983.1666666666667,1983.25,1983.3333333333333,1983.4166666666667,1983.5,1983.5833333333333,1983.6666666666667,1983.75,1983.8333333333333,1983.9166666666667,1984,1984.0833333333333,1984.1666666666667,1984.25,1984.3333333333333,1984.4166666666667,1984.5,1984.5833333333333,1984.6666666666667,1984.75,1984.8333333333333,1984.9166666666667,1985,1985.0833333333333,1985.1666666666667,1985.25,1985.3333333333333,1985.4166666666667,1985.5,1985.5833333333333,1985.6666666666667,1985.75,1985.8333333333333,1985.9166666666667,1986,1986.0833333333333,1986.1666666666667,1986.25,1986.3333333333333,1986.4166666666667,1986.5,1986.5833333333333,1986.6666666666667,1986.75,1986.8333333333333,1986.9166666666667,1987,1987.0833333333333,1987.1666666666667,1987.25,1987.3333333333333,1987.4166666666667,1987.5,1987.5833333333333,1987.6666666666667,1987.75,1987.8333333333333,1987.9166666666667,1988,1988.0833333333333,1988.1666666666667,1988.25,1988.3333333333333,1988.4166666666667,1988.5,1988.5833333333333,1988.6666666666667,1988.75,1988.8333333333333,1988.9166666666667,1989,1989.0833333333333,1989.1666666666667,1989.25,1989.3333333333333,1989.4166666666667,1989.5,1989.5833333333333,1989.6666666666667,1989.75,1989.8333333333333,1989.9166666666667,1990,1990.0833333333333,1990.1666666666667,1990.25,1990.3333333333333,1990.4166666666667,1990.5,1990.5833333333333,1990.6666666666667,1990.75,1990.8333333333333,1990.9166666666667,1991,1991.0833333333333,1991.1666666666667,1991.25,1991.3333333333333,1991.4166666666667,1991.5,1991.5833333333333,1991.6666666666667,1991.75,1991.8333333333333,1991.9166666666667,1992,1992.0833333333333,1992.1666666666667,1992.25,1992.3333333333333,1992.4166666666667,1992.5,1992.5833333333333,1992.6666666666667,1992.75,1992.8333333333333,1992.9166666666667,1993,1993.0833333333333,1993.1666666666667,1993.25,1993.3333333333333,1993.4166666666667,1993.5,1993.5833333333333,1993.6666666666667,1993.75,1993.8333333333333,1993.9166666666667,1994,1994.0833333333333,1994.1666666666667,1994.25,1994.3333333333333,1994.4166666666667,1994.5,1994.5833333333333,1994.6666666666667,1994.75,1994.8333333333333,1994.9166666666667,1995,1995.0833333333333,1995.1666666666667,1995.25,1995.3333333333333,1995.4166666666667,1995.5,1995.5833333333333,1995.6666666666667,1995.75,1995.8333333333333,1995.9166666666667,1996,1996.0833333333333,1996.1666666666667,1996.25,1996.3333333333335,1996.4166666666667,1996.5,1996.5833333333335,1996.6666666666667,1996.75,1996.8333333333335,1996.9166666666667,1997,1997.0833333333335,1997.1666666666667,1997.25,1997.3333333333335,1997.4166666666667,1997.5,1997.5833333333335,1997.6666666666667,1997.75,1997.8333333333335,1997.9166666666667,1998,1998.0833333333335,1998.1666666666667,1998.25,1998.3333333333335,1998.4166666666667,1998.5,1998.5833333333335,1998.6666666666667,1998.75,1998.8333333333335,1998.9166666666667,1999,1999.0833333333335,1999.1666666666667,1999.25,1999.3333333333335,1999.4166666666667,1999.5,1999.5833333333335,1999.6666666666667,1999.75,1999.8333333333335,1999.9166666666667,2000,2000.0833333333335,2000.1666666666667,2000.25,2000.3333333333335,2000.4166666666667,2000.5,2000.5833333333335,2000.6666666666667,2000.75,2000.8333333333335,2000.9166666666667,2001,2001.0833333333335,2001.1666666666667,2001.25,2001.3333333333335,2001.4166666666667,2001.5,2001.5833333333335,2001.6666666666667,2001.75,2001.8333333333335,2001.9166666666667,2002,2002.0833333333335,2002.1666666666667,2002.25,2002.3333333333335,2002.4166666666667,2002.5,2002.5833333333335,2002.6666666666667,2002.75,2002.8333333333335,2002.9166666666667,2003,2003.0833333333335,2003.1666666666667,2003.25,2003.3333333333335,2003.4166666666667,2003.5,2003.5833333333335,2003.6666666666667,2003.75,2003.8333333333335,2003.9166666666667,2004,2004.0833333333335,2004.1666666666667,2004.25,2004.3333333333335,2004.4166666666667,2004.5,2004.5833333333335,2004.6666666666667,2004.75,2004.8333333333335,2004.9166666666667,2005,2005.0833333333335,2005.1666666666667,2005.25,2005.3333333333335,2005.4166666666667,2005.5,2005.5833333333335,2005.6666666666667,2005.75,2005.8333333333335,2005.9166666666667,2006,2006.0833333333335,2006.1666666666667,2006.25,2006.3333333333335,2006.4166666666667,2006.5,2006.5833333333335,2006.6666666666667,2006.75,2006.8333333333335,2006.9166666666667,2007,2007.0833333333335,2007.1666666666667,2007.25,2007.3333333333335,2007.4166666666667,2007.5,2007.5833333333335,2007.6666666666667,2007.75,2007.8333333333335,2007.9166666666667,2008,2008.0833333333335,2008.1666666666667,2008.25,2008.3333333333335,2008.4166666666667,2008.5,2008.5833333333335,2008.6666666666667,2008.75,2008.8333333333335,2008.9166666666667,2009,2009.0833333333335,2009.1666666666667,2009.25,2009.3333333333335,2009.4166666666667,2009.5,2009.5833333333335,2009.6666666666667,2009.75,2009.8333333333335,2009.9166666666667,2010,2010.0833333333335,2010.1666666666667,2010.25,2010.3333333333335,2010.4166666666667,2010.5,2010.5833333333335,2010.6666666666667,2010.75,2010.8333333333335,2010.9166666666667,2011,2011.0833333333335,2011.1666666666667,2011.25,2011.3333333333335,2011.4166666666667,2011.5,2011.5833333333335,2011.6666666666667,2011.75,2011.8333333333335,2011.9166666666667,2012,2012.0833333333335,2012.1666666666667,2012.25,2012.3333333333335,2012.4166666666667,2012.5,2012.5833333333335,2012.6666666666667,2012.75,2012.8333333333335,2012.9166666666667,2013,2013.0833333333335,2013.1666666666667,2013.25,2013.3333333333335,2013.4166666666667,2013.5,2013.5833333333335,2013.6666666666667,2013.75,2013.8333333333335,2013.9166666666667,2014,2014.0833333333335,2014.1666666666667,2014.25,2014.3333333333335,2014.4166666666667,2014.5,2014.5833333333335,2014.6666666666667,2014.75,2014.8333333333335,2014.9166666666667,2015,2015.0833333333335,2015.1666666666667,2015.25,2015.3333333333335,2015.4166666666667,2015.5,2015.5833333333335,2015.6666666666667,2015.75,2015.8333333333335,2015.9166666666667,2016,2016.0833333333335,2016.1666666666667,2016.25,2016.3333333333335,2016.4166666666667,2016.5,2016.5833333333335,2016.6666666666667,2016.75,2016.8333333333335,2016.9166666666667,2017,2017.0833333333335,2017.1666666666667,2017.25,2017.3333333333335,2017.4166666666667,2017.5,2017.5833333333335,2017.6666666666667,2017.75,2017.8333333333335,2017.9166666666667,2018,2018.0833333333335,2018.1666666666667,2018.25,2018.3333333333335,2018.4166666666667,2018.5,2018.5833333333335,2018.6666666666667,2018.75,2018.8333333333335,2018.9166666666667,2019,2019.0833333333335,2019.1666666666667,2019.25,2019.3333333333335,2019.4166666666667],"y":[1111.4041666666669,1118.9916666666666,1131.6958333333332,1147.1416666666667,1161.1875,1176.9791666666667,1187.1791666666666,1197.5166666666667,1208.1458333333333,1218.9208333333331,1231.8,1237.0499999999997,1236.6416666666664,1234.1708333333331,1234.5374999999999,1237.9375,1247.6291666666666,1258.8833333333334,1266.2499999999998,1273.325,1276.7208333333335,1278.9958333333332,1284.1125,1285.9875,1291.1583333333331,1300.4708333333331,1303.825,1299.7125000000001,1287.7750000000001,1264.8499999999999,1244.4166666666665,1234.6374999999998,1226.9791666666667,1215.5916666666667,1197.6958333333334,1183.5749999999998,1177.5624999999998,1171.4999999999998,1152.6708333333331,1123.5083333333332,1088.6249999999998,1058.1958333333332,1041.1583333333333,1021.1249999999999,1000.075,986.05833333333339,973.46249999999986,961.52916666666658,946.27916666666658,933.0625,930.87083333333328,933.08750000000009,935.40416666666681,937.45833333333337,933.30416666666679,933.93333333333339,939.85833333333335,931.35833333333335,916.82083333333333,905.33333333333337,894.99583333333339,886.30416666666656,876.71249999999998,868.07916666666665,868.13750000000005,868.67083333333335,862.67916666666656,850.82499999999993,842.96249999999986,844.84583333333319,855.15416666666658,871.5958333333333,881.63749999999982,883.97083333333342,885.04583333333323,892.5374999999998,901.9041666666667,919.68333333333328,943.07083333333333,960.71249999999986,972.72916666666652,988.32916666666665,1003.4874999999998,1015.7125,1035.8083333333334,1061.0125,1085.4625000000001,1105.5874999999999,1129.5583333333334,1148.4041666666667,1160.7375,1174.1541666666667,1182.8833333333334,1191.7791666666667,1201.4208333333333,1206.075,1212.7624999999998,1220.7374999999997,1224.5374999999997,1231.7874999999999,1239.3583333333331,1242.0333333333331,1246.925,1260.1166666666666,1286.2125000000001,1302.3291666666664,1300.5166666666667,1304.8416666666667,1310.7250000000001,1310.2583333333337,1305.1833333333334,1301.7,1303.4166666666665,1308.625,1314.2083333333333,1315.8208333333332,1327.0041666666666,1339.4000000000001,1340.5000000000002,1350.1375000000003,1347.5291666666667,1333.8333333333337,1335.9291666666668,1339.2333333333333,1329.375,1319.4291666666666,1318.2166666666669,1319.6458333333333,1303.9541666666667,1282.6833333333332,1279.0749999999998,1271.1125,1272.0166666666667,1287.1833333333334,1299.0041666666666,1301.9833333333333,1306.3625000000002,1315.5458333333336,1315.9833333333333,1310.2916666666667,1303.5875000000001,1302.7291666666667,1308.4416666666666,1313.2916666666667,1313.1958333333332,1304.0374999999999,1289.4999999999998,1283.4124999999999,1283.5916666666665,1276.4708333333333,1269.0708333333332,1273.2875000000001,1280.1833333333334,1276.3333333333333,1264.8124999999998,1247.4458333333332,1239.2708333333333,1240.2375,1236.2250000000001,1229.1041666666667,1219.3208333333332,1213.9291666666666,1211.5208333333333,1199.8666666666666,1184.6999999999998,1181.9124999999999,1182.1208333333336,1179.1291666666668,1164.6833333333336,1145.1875,1131.1041666666667,1116.1541666666667,1102.6208333333332,1090.5833333333333,1082.6666666666665,1074.6208333333332,1065.5999999999997,1057.0999999999997,1049.1916666666664,1045.2708333333333,1045.3874999999998,1049.1166666666666,1052.7124999999999,1057.3208333333334,1060.6958333333334,1065.5874999999999,1069.5333333333333,1068.5,1069.9749999999999,1074.8833333333332,1080.7625,1087.6666666666665,1094.1958333333332,1095.6583333333333,1099.3291666666667,1108.875,1121.4208333333333,1132.1958333333334,1140.3125000000002,1148.7416666666668,1155.5249999999999,1160.5041666666664,1168.9458333333332,1178.7083333333333,1187.55,1201.0916666666667,1219.3458333333333,1232.1666666666665,1236.5125,1242.1958333333334,1244.2416666666666,1249.3708333333334,1260.1208333333336,1268.3208333333334,1275.25,1280.3833333333332,1282.5583333333332,1280.2166666666665,1275.5875000000001,1267.6375,1264.45,1266.2416666666668,1267.6333333333334,1270.6208333333334,1270.5458333333336,1266.2333333333336,1262.2916666666667,1260.4124999999999,1260.5291666666669,1265.875,1270.4708333333333,1276.4875,1286.4333333333332,1287.3666666666666,1286.9083333333331,1288.1666666666667,1287.5499999999997,1291.1999999999998,1293.1958333333334,1290.1333333333332,1290.6833333333334,1290.8291666666667,1289.2041666666667,1288.0583333333334,1282.3874999999998,1276.7083333333335,1277.1291666666668,1280.2166666666667,1281.1291666666666,1280.8166666666668,1280.1958333333332,1285.8458333333331,1288.5708333333332,1285.45,1284.4166666666665,1286.9250000000002,1294.7875000000001,1309.7749999999999,1315.6041666666665,1307.4875,1307.1875,1315.5791666666667,1322.0708333333332,1326.9708333333333,1333.9249999999997,1343.6041666666665,1357.2458333333329,1367.0583333333332,1373.2874999999997,1378.8499999999999,1391.7208333333333,1413.4958333333334,1429.6041666666667,1434.4958333333329,1439.9166666666665,1448.5166666666667,1456.0666666666666,1469.7833333333333,1484.2166666666665,1493.3833333333332,1498.3625000000002,1500.1791666666668,1498.1333333333332,1497.9166666666667,1502.8750000000002,1504.3208333333334,1500.7625000000003,1491.3583333333336,1482.5083333333334,1474.1416666666667,1464.0166666666669,1453.7208333333338,1445.7375000000002,1444.0625,1439.7083333333333,1431.6000000000001,1419.3333333333335,1427.3208333333332,1447.0083333333332,1453.3375000000001,1453.279125,1448.3188749999999,1442.5134583333333,1442.8557916666666,1442.7764999999999,1435.0695833333336,1438.7835000000002,1456.8731666666667,1465.0082499999999,1444.85725,1422.2550416666666,1422.7244166666665,1427.303083333333,1422.6007499999998,1416.0369166666667,1411.80925,1412.9584583333333,1413.0017500000001,1409.8840416666665,1406.0505416666663,1406.0390416666667,1409.4107083333331,1411.9194583333333,1414.14275,1415.6821249999998,1420.1607916666667,1425.6441666666667,1429.1613333333335,1432.4371249999999,1434.0262500000001,1435.2271666666666,1429.2952499999999,1427.1212499999997,1434.5036666666665,1433.7717083333334,1436.5290416666667,1439.3007916666666,1436.3232499999997,1438.7406666666668,1445.4935833333334,1443.9467083333334,1448.7681666666665,1469.4259999999999,1482.646375,1480.879625,1468.8344583333335,1459.820125,1456.1409166666665,1457.0751249999998,1460.9237499999999,1459.7870833333332,1455.971125,1453.6437916666669,1446.2126666666666,1425.823625,1412.9593333333335,1414.3402083333333,1418.6631666666667,1423.3408333333336,1422.7782500000001,1418.5596666666668,1415.8538333333331,1415.2386666666666,1410.0049583333332,1407.2012499999996,1406.8884166666667,1395.8822499999999,1386.3106666666665,1382.6427916666664,1380.0388749999997,1378.3652916666667,1374.2678333333336,1369.1397499999998,1362.9100416666665,1351.0359999999998,1338.9844166666664,1328.0367916666667,1309.7681666666667,1291.2810416666666,1274.3521250000001,1250.0815,1218.8844583333332,1184.1310416666665,1145.1892916666666,1108.0655833333331,1071.0764999999999,1029.3867916666666,989.96312499999988,951.52620833333333,917.37033333333341,897.29116666666664,891.51329166666665,882.37187500000005,872.78674999999998,872.48862499999984,877.95024999999998,885.24829166666666,890.82037500000001,903.43837499999995,919.09883333333323,933.42824999999982,946.12579166666671,953.60745833333328,944.8934999999999,942.86045833333344,956.42354166666667,966.31575000000021,976.30937500000005,986.20620833333328,1000.2735833333332,1017.2156666666667,1032.5938333333331,1038.4224999999999,1039.8589999999999,1043.6544166666667,1047.9557083333332,1055.6639583333333,1063.3808750000001,1072.706375,1082.9669583333332,1091.6073333333334,1102.8799166666665,1116.4590416666667,1124.2970416666667,1137.595875,1159.5604583333331,1173.0885416666667,1185.4472083333333,1199.6558749999999,1208.0323333333331,1216.8622916666664,1227.1810833333332,1236.9414999999999,1244.0109166666668,1247.655125,1254.1017916666667,1262.9800833333334,1272.1228333333333,1283.7756666666664,1299.8658749999997,1306.8980833333335,1309.5237499999998,1318.6082083333331,1323.2013333333334,1322.6102083333333,1321.8074166666665,1325.4254583333334,1332.8331666666666,1343.8980000000001,1352.1106666666667,1358.949875,1368.0315833333334,1376.3254999999999,1384.4929583333328,1389.8874583333334,1398.5344999999998,1410.607375,1418.8852083333334,1422.2458749999998,1425.9117916666664,1429.8779583333333,1433.6667499999999,1439.4876666666667,1442.1462500000002,1450.2228750000002,1465.9303749999999,1474.6283333333331,1481.6039166666665,1487.5880416666666,1491.7542916666664,1496.9029166666664,1500.2032083333334,1497.2437083333332,1493.6773333333331,1494.9356666666665,1492.4992083333332,1489.5269166666669,1485.267625,1483.2357499999998,1486.8708750000001,1487.7955833333335,1485.8519166666667,1483.6189583333332,1479.2115416666666,1475.7457083333334,1473.4601666666665,1467.1325416666666,1461.5689166666666,1464.2084166666664,1467.5275833333333,1468.1002500000002,1465.8825000000002,1463.3414166666666,1463.0687499999999,1466.4437083333337,1468.3788750000001,1469.3843333333334,1476.3210833333335,1478.2363749999997,1477.2969166666664,1474.6806666666664,1472.2691249999998,1473.0170833333334,1474.018875,1474.6913333333334,1472.6049166666667,1469.0748750000002,1466.432125,1465.7247499999999,1464.4611666666665,1464.8325416666664,1473.1139999999998,1473.0540416666665,1465.3418333333334,1465.2808333333332,1462.0883749999998],"mode":"lines","line":{"color":"#00526d","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[1976,1976.0833333333333,1976.1666666666667,1976.25,1976.3333333333333,1976.4166666666667,1976.5,1976.5833333333333,1976.6666666666667,1976.75,1976.8333333333333,1976.9166666666667,1977,1977.0833333333333,1977.1666666666667,1977.25,1977.3333333333333,1977.4166666666667,1977.5,1977.5833333333333,1977.6666666666667,1977.75,1977.8333333333333,1977.9166666666667,1978,1978.0833333333333,1978.1666666666667,1978.25,1978.3333333333333,1978.4166666666667,1978.5,1978.5833333333333,1978.6666666666667,1978.75,1978.8333333333333,1978.9166666666667,1979,1979.0833333333333,1979.1666666666667,1979.25,1979.3333333333333,1979.4166666666667,1979.5,1979.5833333333333,1979.6666666666667,1979.75,1979.8333333333333,1979.9166666666667,1980,1980.0833333333333,1980.1666666666667,1980.25,1980.3333333333333,1980.4166666666667,1980.5,1980.5833333333333,1980.6666666666667,1980.75,1980.8333333333333,1980.9166666666667,1981,1981.0833333333333,1981.1666666666667,1981.25,1981.3333333333333,1981.4166666666667,1981.5,1981.5833333333333,1981.6666666666667,1981.75,1981.8333333333333,1981.9166666666667,1982,1982.0833333333333,1982.1666666666667,1982.25,1982.3333333333333,1982.4166666666667,1982.5,1982.5833333333333,1982.6666666666667,1982.75,1982.8333333333333,1982.9166666666667,1983,1983.0833333333333,1983.1666666666667,1983.25,1983.3333333333333,1983.4166666666667,1983.5,1983.5833333333333,1983.6666666666667,1983.75,1983.8333333333333,1983.9166666666667,1984,1984.0833333333333,1984.1666666666667,1984.25,1984.3333333333333,1984.4166666666667,1984.5,1984.5833333333333,1984.6666666666667,1984.75,1984.8333333333333,1984.9166666666667,1985,1985.0833333333333,1985.1666666666667,1985.25,1985.3333333333333,1985.4166666666667,1985.5,1985.5833333333333,1985.6666666666667,1985.75,1985.8333333333333,1985.9166666666667,1986,1986.0833333333333,1986.1666666666667,1986.25,1986.3333333333333,1986.4166666666667,1986.5,1986.5833333333333,1986.6666666666667,1986.75,1986.8333333333333,1986.9166666666667,1987,1987.0833333333333,1987.1666666666667,1987.25,1987.3333333333333,1987.4166666666667,1987.5,1987.5833333333333,1987.6666666666667,1987.75,1987.8333333333333,1987.9166666666667,1988,1988.0833333333333,1988.1666666666667,1988.25,1988.3333333333333,1988.4166666666667,1988.5,1988.5833333333333,1988.6666666666667,1988.75,1988.8333333333333,1988.9166666666667,1989,1989.0833333333333,1989.1666666666667,1989.25,1989.3333333333333,1989.4166666666667,1989.5,1989.5833333333333,1989.6666666666667,1989.75,1989.8333333333333,1989.9166666666667,1990,1990.0833333333333,1990.1666666666667,1990.25,1990.3333333333333,1990.4166666666667,1990.5,1990.5833333333333,1990.6666666666667,1990.75,1990.8333333333333,1990.9166666666667,1991,1991.0833333333333,1991.1666666666667,1991.25,1991.3333333333333,1991.4166666666667,1991.5,1991.5833333333333,1991.6666666666667,1991.75,1991.8333333333333,1991.9166666666667,1992,1992.0833333333333,1992.1666666666667,1992.25,1992.3333333333333,1992.4166666666667,1992.5,1992.5833333333333,1992.6666666666667,1992.75,1992.8333333333333,1992.9166666666667,1993,1993.0833333333333,1993.1666666666667,1993.25,1993.3333333333333,1993.4166666666667,1993.5,1993.5833333333333,1993.6666666666667,1993.75,1993.8333333333333,1993.9166666666667,1994,1994.0833333333333,1994.1666666666667,1994.25,1994.3333333333333,1994.4166666666667,1994.5,1994.5833333333333,1994.6666666666667,1994.75,1994.8333333333333,1994.9166666666667,1995,1995.0833333333333,1995.1666666666667,1995.25,1995.3333333333333,1995.4166666666667,1995.5,1995.5833333333333,1995.6666666666667,1995.75,1995.8333333333333,1995.9166666666667,1996,1996.0833333333333,1996.1666666666667,1996.25,1996.3333333333335,1996.4166666666667,1996.5,1996.5833333333335,1996.6666666666667,1996.75,1996.8333333333335,1996.9166666666667,1997,1997.0833333333335,1997.1666666666667,1997.25,1997.3333333333335,1997.4166666666667,1997.5,1997.5833333333335,1997.6666666666667,1997.75,1997.8333333333335,1997.9166666666667,1998,1998.0833333333335,1998.1666666666667,1998.25,1998.3333333333335,1998.4166666666667,1998.5,1998.5833333333335,1998.6666666666667,1998.75,1998.8333333333335,1998.9166666666667,1999,1999.0833333333335,1999.1666666666667,1999.25,1999.3333333333335,1999.4166666666667,1999.5,1999.5833333333335,1999.6666666666667,1999.75,1999.8333333333335,1999.9166666666667,2000,2000.0833333333335,2000.1666666666667,2000.25,2000.3333333333335,2000.4166666666667,2000.5,2000.5833333333335,2000.6666666666667,2000.75,2000.8333333333335,2000.9166666666667,2001,2001.0833333333335,2001.1666666666667,2001.25,2001.3333333333335,2001.4166666666667,2001.5,2001.5833333333335,2001.6666666666667,2001.75,2001.8333333333335,2001.9166666666667,2002,2002.0833333333335,2002.1666666666667,2002.25,2002.3333333333335,2002.4166666666667,2002.5,2002.5833333333335,2002.6666666666667,2002.75,2002.8333333333335,2002.9166666666667,2003,2003.0833333333335,2003.1666666666667,2003.25,2003.3333333333335,2003.4166666666667,2003.5,2003.5833333333335,2003.6666666666667,2003.75,2003.8333333333335,2003.9166666666667,2004,2004.0833333333335,2004.1666666666667,2004.25,2004.3333333333335,2004.4166666666667,2004.5,2004.5833333333335,2004.6666666666667,2004.75,2004.8333333333335,2004.9166666666667,2005,2005.0833333333335,2005.1666666666667,2005.25,2005.3333333333335,2005.4166666666667,2005.5,2005.5833333333335,2005.6666666666667,2005.75,2005.8333333333335,2005.9166666666667,2006,2006.0833333333335,2006.1666666666667,2006.25,2006.3333333333335,2006.4166666666667,2006.5,2006.5833333333335,2006.6666666666667,2006.75,2006.8333333333335,2006.9166666666667,2007,2007.0833333333335,2007.1666666666667,2007.25,2007.3333333333335,2007.4166666666667,2007.5,2007.5833333333335,2007.6666666666667,2007.75,2007.8333333333335,2007.9166666666667,2008,2008.0833333333335,2008.1666666666667,2008.25,2008.3333333333335,2008.4166666666667,2008.5,2008.5833333333335,2008.6666666666667,2008.75,2008.8333333333335,2008.9166666666667,2009,2009.0833333333335,2009.1666666666667,2009.25,2009.3333333333335,2009.4166666666667,2009.5,2009.5833333333335,2009.6666666666667,2009.75,2009.8333333333335,2009.9166666666667,2010,2010.0833333333335,2010.1666666666667,2010.25,2010.3333333333335,2010.4166666666667,2010.5,2010.5833333333335,2010.6666666666667,2010.75,2010.8333333333335,2010.9166666666667,2011,2011.0833333333335,2011.1666666666667,2011.25,2011.3333333333335,2011.4166666666667,2011.5,2011.5833333333335,2011.6666666666667,2011.75,2011.8333333333335,2011.9166666666667,2012,2012.0833333333335,2012.1666666666667,2012.25,2012.3333333333335,2012.4166666666667,2012.5,2012.5833333333335,2012.6666666666667,2012.75,2012.8333333333335,2012.9166666666667,2013,2013.0833333333335,2013.1666666666667,2013.25,2013.3333333333335,2013.4166666666667,2013.5,2013.5833333333335,2013.6666666666667,2013.75,2013.8333333333335,2013.9166666666667,2014,2014.0833333333335,2014.1666666666667,2014.25,2014.3333333333335,2014.4166666666667,2014.5,2014.5833333333335,2014.6666666666667,2014.75,2014.8333333333335,2014.9166666666667,2015,2015.0833333333335,2015.1666666666667,2015.25,2015.3333333333335,2015.4166666666667,2015.5,2015.5833333333335,2015.6666666666667,2015.75,2015.8333333333335,2015.9166666666667,2016,2016.0833333333335,2016.1666666666667,2016.25,2016.3333333333335,2016.4166666666667,2016.5,2016.5833333333335,2016.6666666666667,2016.75,2016.8333333333335,2016.9166666666667,2017,2017.0833333333335,2017.1666666666667,2017.25,2017.3333333333335,2017.4166666666667,2017.5,2017.5833333333335,2017.6666666666667,2017.75,2017.8333333333335,2017.9166666666667,2018,2018.0833333333335,2018.1666666666667,2018.25,2018.3333333333335,2018.4166666666667,2018.5,2018.5833333333335,2018.6666666666667,2018.75,2018.8333333333335,2018.9166666666667,2019,2019.0833333333335,2019.1666666666667,2019.25,2019.3333333333335,2019.4166666666667,2019.5,2019.5833333333335,2019.6666666666667,2019.75,2019.8333333333335,2019.9166666666667],"y":[-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967,-225.19183906653748,-102.37783228359172,142.95725492571054,34.458161902454819,147.92120938307494,112.77861829780363,39.370502018733859,63.186532057493551,-39.629181120801029,-36.449693717700285,-122.53685360142117,-14.48687879521967],"mode":"lines","line":{"color":"#00526d","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x3","yaxis":"y3","frame":null},{"x":[1976.5,1976.5833333333333,1976.6666666666667,1976.75,1976.8333333333333,1976.9166666666667,1977,1977.0833333333333,1977.1666666666667,1977.25,1977.3333333333333,1977.4166666666667,1977.5,1977.5833333333333,1977.6666666666667,1977.75,1977.8333333333333,1977.9166666666667,1978,1978.0833333333333,1978.1666666666667,1978.25,1978.3333333333333,1978.4166666666667,1978.5,1978.5833333333333,1978.6666666666667,1978.75,1978.8333333333333,1978.9166666666667,1979,1979.0833333333333,1979.1666666666667,1979.25,1979.3333333333333,1979.4166666666667,1979.5,1979.5833333333333,1979.6666666666667,1979.75,1979.8333333333333,1979.9166666666667,1980,1980.0833333333333,1980.1666666666667,1980.25,1980.3333333333333,1980.4166666666667,1980.5,1980.5833333333333,1980.6666666666667,1980.75,1980.8333333333333,1980.9166666666667,1981,1981.0833333333333,1981.1666666666667,1981.25,1981.3333333333333,1981.4166666666667,1981.5,1981.5833333333333,1981.6666666666667,1981.75,1981.8333333333333,1981.9166666666667,1982,1982.0833333333333,1982.1666666666667,1982.25,1982.3333333333333,1982.4166666666667,1982.5,1982.5833333333333,1982.6666666666667,1982.75,1982.8333333333333,1982.9166666666667,1983,1983.0833333333333,1983.1666666666667,1983.25,1983.3333333333333,1983.4166666666667,1983.5,1983.5833333333333,1983.6666666666667,1983.75,1983.8333333333333,1983.9166666666667,1984,1984.0833333333333,1984.1666666666667,1984.25,1984.3333333333333,1984.4166666666667,1984.5,1984.5833333333333,1984.6666666666667,1984.75,1984.8333333333333,1984.9166666666667,1985,1985.0833333333333,1985.1666666666667,1985.25,1985.3333333333333,1985.4166666666667,1985.5,1985.5833333333333,1985.6666666666667,1985.75,1985.8333333333333,1985.9166666666667,1986,1986.0833333333333,1986.1666666666667,1986.25,1986.3333333333333,1986.4166666666667,1986.5,1986.5833333333333,1986.6666666666667,1986.75,1986.8333333333333,1986.9166666666667,1987,1987.0833333333333,1987.1666666666667,1987.25,1987.3333333333333,1987.4166666666667,1987.5,1987.5833333333333,1987.6666666666667,1987.75,1987.8333333333333,1987.9166666666667,1988,1988.0833333333333,1988.1666666666667,1988.25,1988.3333333333333,1988.4166666666667,1988.5,1988.5833333333333,1988.6666666666667,1988.75,1988.8333333333333,1988.9166666666667,1989,1989.0833333333333,1989.1666666666667,1989.25,1989.3333333333333,1989.4166666666667,1989.5,1989.5833333333333,1989.6666666666667,1989.75,1989.8333333333333,1989.9166666666667,1990,1990.0833333333333,1990.1666666666667,1990.25,1990.3333333333333,1990.4166666666667,1990.5,1990.5833333333333,1990.6666666666667,1990.75,1990.8333333333333,1990.9166666666667,1991,1991.0833333333333,1991.1666666666667,1991.25,1991.3333333333333,1991.4166666666667,1991.5,1991.5833333333333,1991.6666666666667,1991.75,1991.8333333333333,1991.9166666666667,1992,1992.0833333333333,1992.1666666666667,1992.25,1992.3333333333333,1992.4166666666667,1992.5,1992.5833333333333,1992.6666666666667,1992.75,1992.8333333333333,1992.9166666666667,1993,1993.0833333333333,1993.1666666666667,1993.25,1993.3333333333333,1993.4166666666667,1993.5,1993.5833333333333,1993.6666666666667,1993.75,1993.8333333333333,1993.9166666666667,1994,1994.0833333333333,1994.1666666666667,1994.25,1994.3333333333333,1994.4166666666667,1994.5,1994.5833333333333,1994.6666666666667,1994.75,1994.8333333333333,1994.9166666666667,1995,1995.0833333333333,1995.1666666666667,1995.25,1995.3333333333333,1995.4166666666667,1995.5,1995.5833333333333,1995.6666666666667,1995.75,1995.8333333333333,1995.9166666666667,1996,1996.0833333333333,1996.1666666666667,1996.25,1996.3333333333335,1996.4166666666667,1996.5,1996.5833333333335,1996.6666666666667,1996.75,1996.8333333333335,1996.9166666666667,1997,1997.0833333333335,1997.1666666666667,1997.25,1997.3333333333335,1997.4166666666667,1997.5,1997.5833333333335,1997.6666666666667,1997.75,1997.8333333333335,1997.9166666666667,1998,1998.0833333333335,1998.1666666666667,1998.25,1998.3333333333335,1998.4166666666667,1998.5,1998.5833333333335,1998.6666666666667,1998.75,1998.8333333333335,1998.9166666666667,1999,1999.0833333333335,1999.1666666666667,1999.25,1999.3333333333335,1999.4166666666667,1999.5,1999.5833333333335,1999.6666666666667,1999.75,1999.8333333333335,1999.9166666666667,2000,2000.0833333333335,2000.1666666666667,2000.25,2000.3333333333335,2000.4166666666667,2000.5,2000.5833333333335,2000.6666666666667,2000.75,2000.8333333333335,2000.9166666666667,2001,2001.0833333333335,2001.1666666666667,2001.25,2001.3333333333335,2001.4166666666667,2001.5,2001.5833333333335,2001.6666666666667,2001.75,2001.8333333333335,2001.9166666666667,2002,2002.0833333333335,2002.1666666666667,2002.25,2002.3333333333335,2002.4166666666667,2002.5,2002.5833333333335,2002.6666666666667,2002.75,2002.8333333333335,2002.9166666666667,2003,2003.0833333333335,2003.1666666666667,2003.25,2003.3333333333335,2003.4166666666667,2003.5,2003.5833333333335,2003.6666666666667,2003.75,2003.8333333333335,2003.9166666666667,2004,2004.0833333333335,2004.1666666666667,2004.25,2004.3333333333335,2004.4166666666667,2004.5,2004.5833333333335,2004.6666666666667,2004.75,2004.8333333333335,2004.9166666666667,2005,2005.0833333333335,2005.1666666666667,2005.25,2005.3333333333335,2005.4166666666667,2005.5,2005.5833333333335,2005.6666666666667,2005.75,2005.8333333333335,2005.9166666666667,2006,2006.0833333333335,2006.1666666666667,2006.25,2006.3333333333335,2006.4166666666667,2006.5,2006.5833333333335,2006.6666666666667,2006.75,2006.8333333333335,2006.9166666666667,2007,2007.0833333333335,2007.1666666666667,2007.25,2007.3333333333335,2007.4166666666667,2007.5,2007.5833333333335,2007.6666666666667,2007.75,2007.8333333333335,2007.9166666666667,2008,2008.0833333333335,2008.1666666666667,2008.25,2008.3333333333335,2008.4166666666667,2008.5,2008.5833333333335,2008.6666666666667,2008.75,2008.8333333333335,2008.9166666666667,2009,2009.0833333333335,2009.1666666666667,2009.25,2009.3333333333335,2009.4166666666667,2009.5,2009.5833333333335,2009.6666666666667,2009.75,2009.8333333333335,2009.9166666666667,2010,2010.0833333333335,2010.1666666666667,2010.25,2010.3333333333335,2010.4166666666667,2010.5,2010.5833333333335,2010.6666666666667,2010.75,2010.8333333333335,2010.9166666666667,2011,2011.0833333333335,2011.1666666666667,2011.25,2011.3333333333335,2011.4166666666667,2011.5,2011.5833333333335,2011.6666666666667,2011.75,2011.8333333333335,2011.9166666666667,2012,2012.0833333333335,2012.1666666666667,2012.25,2012.3333333333335,2012.4166666666667,2012.5,2012.5833333333335,2012.6666666666667,2012.75,2012.8333333333335,2012.9166666666667,2013,2013.0833333333335,2013.1666666666667,2013.25,2013.3333333333335,2013.4166666666667,2013.5,2013.5833333333335,2013.6666666666667,2013.75,2013.8333333333335,2013.9166666666667,2014,2014.0833333333335,2014.1666666666667,2014.25,2014.3333333333335,2014.4166666666667,2014.5,2014.5833333333335,2014.6666666666667,2014.75,2014.8333333333335,2014.9166666666667,2015,2015.0833333333335,2015.1666666666667,2015.25,2015.3333333333335,2015.4166666666667,2015.5,2015.5833333333335,2015.6666666666667,2015.75,2015.8333333333335,2015.9166666666667,2016,2016.0833333333335,2016.1666666666667,2016.25,2016.3333333333335,2016.4166666666667,2016.5,2016.5833333333335,2016.6666666666667,2016.75,2016.8333333333335,2016.9166666666667,2017,2017.0833333333335,2017.1666666666667,2017.25,2017.3333333333335,2017.4166666666667,2017.5,2017.5833333333335,2017.6666666666667,2017.75,2017.8333333333335,2017.9166666666667,2018,2018.0833333333335,2018.1666666666667,2018.25,2018.3333333333335,2018.4166666666667,2018.5,2018.5833333333335,2018.6666666666667,2018.75,2018.8333333333335,2018.9166666666667,2019,2019.0833333333335,2019.1666666666667,2019.25,2019.3333333333335,2019.4166666666667],"y":[11.525331314599271,-156.07819872416019,-34.166652212532199,18.708027051033696,45.749353601421262,-100.69228787144721,7.9126723998708712,-3.0388343830750273,99.996911740956193,101.02100476421219,-2.6212093830749836,109.9713817021966,-74.012168685400184,-62.857365390826772,-90.308318879199078,139.81219371770021,56.507686934754474,-153.79645453811395,-109.75816093346225,-99.547167716408239,60.92191174095592,93.046004764212057,125.56629061692502,150.6338817021965,-41.32883535206679,-46.557365390826817,-160.69581887919912,133.73719371770017,83.461853601421126,-181.86312120478033,58.275172399871053,16.440332283591943,113.86357840762275,54.550171430878436,27.382957283591622,-112.5536182978035,-52.533002018733441,-27.486532057493378,-83.44165221253229,110.54136038436695,52.511853601421308,-84.008954538113471,226.03350573320427,119.95283228359187,-1.1322549257105265,-73.916495235788148,-227.58370938307485,-141.60778496447017,20.950331314599566,-112.04903205749349,-43.841652212532267,146.76219371770026,57.632686934754361,-101.5714545381137,106.18767239987073,117.64449895025837,95.984411740956148,-2.9164952357881475,-131.64204271640824,-75.411951631136958,-37.46633535206729,59.509301275839903,27.716681120801013,-9.6294729489663951,-2.6006463985788741,-180.98395453811361,76.912672399870871,92.052832283591783,71.380245074289519,-2.1039952357879201,17.124623950258524,-115.97445163113696,-93.608002018733714,-153.15736539082695,45.683347787467824,-15.187806282299562,192.13268693475447,-65.89645453811363,71.421005733204083,-36.734667716408126,-13.686421592377087,-10.487328569121473,-41.508709383074688,76.908881702196481,-23.478835352067222,-131.09903205749356,-65.433318879199078,56.862193717700393,43.178520268087823,-79.917287871447115,121.3543390665377,87.123665616925109,25.659411740956102,19.562671430878481,102.35795728359176,-2.9536182978035868,-14.933002018733532,-154.32403205749347,-131.50831887919867,71.162193717700347,24.278520268087959,-152.74645453811354,174.86683906653752,52.861165616925064,-38.169754925710549,43.512671430878754,50.462123950258501,-84.720284964470238,-12.495502018733987,-27.644865390827363,197.94584778746753,-22.050306282299744,-59.979813065245253,-95.338121204780464,124.78350573320427,-31.243001049741451,-172.36142159237716,16.241838097545042,41.878790616924789,-36.416118297803905,-8.8996686854004565,-52.919865390827454,437.30001445413404,-32.183639615633183,-86.938146398578738,126.15771212855293,-174.12482760012949,-68.868001049741451,-65.211421592377064,68.158504764212012,-128.49620938307476,35.708881702196322,44.412831314599543,50.230134609172865,41.125014454134316,-72.333639615633047,-73.125646398578965,-51.858954538113949,31.70850573320422,100.88616561692493,58.455245074289451,-3.6873285691215187,-0.96287604974145324,57.029715035529534,-49.766335352067017,-50.224032057493559,-26.670818879198805,2.9371937177004384,30.045186934754611,23.216045461886324,40.321005733204402,-43.609667716408467,-85.540588259043943,44.008504764211921,25.66629061692538,-31.024451631136799,0.45866464793289197,138.47596794250649,67.20418112080074,-75.754472948966395,-49.183979731912132,-187.54228787144689,174.97100573320427,-24.088834383074754,-32.457254925710231,9.9293380975452692,2.0579572835913496,14.192215035529443,40.34616464793271,-11.474032057493559,53.325014454134134,89.295527051033559,20.416020268088005,-88.896454538113517,-18.174827600128992,-44.743001049741451,-105.45725492571034,-31.958161902454549,-23.112876049741317,17.250548368863065,100.44199798126647,-49.303198724160097,49.116681120801104,26.728860384366726,-6.0589797319123591,-89.600621204780168,23.45850573320422,22.377832283591715,-84.53225492571039,35.558504764212103,-58.983709383074938,96.554715035529853,24.633664647933074,-93.644865390826794,35.700014454134362,59.774693717700302,-10.283979731912268,-47.008954538113812,0.17933906653729537,-70.263834383074936,-69.582254925710231,78.537671430878845,25.332957283591895,91.613048368863019,39.979497981266377,-105.47819872416039,-15.116652212532472,-13.216972948966259,26.924353601421217,-75.008954538113812,26.450172399871008,23.906998950258412,69.121911740955966,35.121004764211875,-41.071209383075029,86.438048368863065,-102.42883535206693,-14.103198724160166,16.14168112080074,60.612193717700166,55.986853601421217,-32.854787871447115,-10.941494266795871,-39.543001049741633,-10.20308825904408,-84.691495235788352,17.287123950258319,104.0088817021965,-44.599668685400729,36.138467942506395,-16.44165221253229,-14.037806282299698,5.2035202680879138,-70.27978787144707,-11.116494266795598,52.111165616925064,-26.107254925710095,33.64183809754536,81.782957283591713,1.2880483688632012,-12.753835352067199,-20.615698724160211,-18.174985545865638,44.991360384366772,-13.450646398578556,-110.42145453811395,62.662672399870644,-0.43883438307489087,1.8135784076230266,-4.9748285691216552,7.6829572835918043,-43.624451631136708,48.658664647932937,-0.43653205749365043,-6.2874855458655929,31.524693717700075,-26.150646398579056,-7.5881212047802364,-46.312327600129038,-32.109667716408239,-44.644754925710458,40.862671430878663,73.907957283591941,166.85054836886297,-108.3955020187334,-141.69069872416026,-3.2166522125319261,76.89136038436709,-74.350646398578419,10.636878795219673,-42.828994266795689,14.581998950258367,7.6385784076228447,-17.25399523578767,44.762123950258456,90.104715035529807,33.562831314599634,-9.3698653908270444,-2.0874855458655475,-60.133639615633001,-58.625646398578965,-45.092287871447297,-33.641494266795689,143.76116561692493,67.167745074289314,0.12100476421187523,16.21629061692488,58.563048368862837,-53.27883535206729,41.471801275839653,81.912514454133998,-49.571139615633456,-62.30064639857892,-158.37562120478037,-18.216494266795735,52.277832283591579,65.509411740956011,-84.778995235787988,40.270457283591895,86.083881702196322,-118.04962701873387,-33.305407057493539,-90.384277212532425,346.79390205103368,27.66035360142132,-84.482704538114149,-83.592660933462639,-25.740334383074924,-66.750504925710402,-7.5144119024548672,-31.6802510497414,28.434965035530013,85.322414647933329,249.16871794250642,-125.42173554586566,-44.269556282299845,-62.864604731912095,69.193128795219536,-76.413202600128898,-66.053709383074647,-74.177296592377161,-7.1358702357879338,41.304332283591748,-24.593368297803636,83.728372981266375,172.81967627583958,-56.51598554586576,-59.214639615633132,-24.540271398578852,43.72462879521936,-60.367327600129101,-23.199417716408107,-29.757504925710236,-13.318828569121251,79.161082283591668,-68.549659964470266,110.50170631459969,-36.100782057493234,70.969514454134014,-38.950889615633059,-90.21285473191233,149.32171212855314,-148.38316093346225,-94.19454271640825,-7.8538799257105438,38.758379764211668,-70.420334383074987,151.08646503552995,349.26737298126636,0.047717942506324107,-53.227902212532172,-235.36143128229969,-130.32093806524563,93.987212128552983,-24.46978593346239,-12.451501049741637,19.349536740956182,36.682671430878599,-37.550042716408598,9.7111317021963259,73.183831314599502,50.973634609173132,18.605514454134209,-112.92926461563297,-48.080396398578387,84.011462128552921,-46.474410933462423,1.2031656169251619,49.276953407623068,-48.532036902454593,63.97549895025827,-5.8364516311371517,-77.486252018733694,74.289426275839787,24.40718112080117,-46.00172294896629,-4.9889380652455202,118.86571212855279,-2.6812026001291542,24.456707283591641,-14.433754925710446,19.656379764212033,88.432748950258429,-45.427909964470246,8.5669146479331175,134.84996794250651,-5.1656105458655475,-94.487431282299667,-65.053354731912123,13.236545461886294,-1.6333276001291779,-87.50045938307494,-152.48112992571066,-74.656911902454794,-81.999834383074813,-115.85486829780359,87.150206314599473,320.67109294250645,-104.17619387919888,-28.707139615632968,-49.02639639857864,117.63108712855285,-15.946619266795778,-49.153667716408222,-1.8647132590440378,6.4522964308785049,3.3330406169247908,-88.632993297803637,40.171289647933008,-51.896115390826822,-3.6324855458657339,-31.009139615632876,-27.800646398578692,137.52487879521959,17.903422399870806,61.504123950258645,78.221786740956304,75.680963097545146,-139.35558438307498,-124.51657663113679,-44.913835352067053,-71.58744872416014,-0.79286054586577848,-39.589347948966406,13.71497860142108,123.38842046188643,-9.7267026001293289,92.750623950258387,91.390870074289523,-38.019495235787872,4.7094989502586486,-29.801701631136893,-104.5030020187337,-1.8554487241603965,-1.8439438791990597,-98.504097948966546,29.359770268087914,117.4480454618863,7.2141723998711313,20.36995728359193,29.57166174095596,-30.213911902454583,6.7455822835920571,-10.177951631137148,-26.147710352066952,142.48905127583976,-132.98227721253238,-60.851472948966375,50.084853601420946,46.05221212855281,-90.739035933462446,-44.283751049741795,43.465245074289669,-10.719120235787614,106.55833228359165,-59.499118297803307,23.984122981266182,125.24325960917304,-110.58069387919886,-77.133097948966224,16.775895268087879,119.35412879521982,-36.385827600129005,-54.621417716408587,-13.553129925710664,-21.053536902454653,45.902457283591957,-75.722534964470015,19.859456314599583,43.324176275840045,17.651264454134434,22.666485384366979,-15.929854731911973,192.09754546188651,-80.968827600128861,-15.849376049741522,-18.415171592377419,4.3742130975451801,-78.497959383074658,-50.789493297803801,19.651914647932699,-9.2484487241604256,18.075222787467737,-45.70484794896629,46.166145268087803,258.95971212855306,-77.617702600128951,-7.1150843830748727,-24.491671592376861,-52.268745235787947,-72.159459383075045,-75.857118297803709,-61.700918685400438,-14.185282057493623,126.31847278746727,-46.280181282299964,77.679520268087799,177.72079546188615,-71.329535933462239,-46.779084383074633,69.971078407623054,-115.50128690245447,5.5457072835915824,-0.13349329780362496,-110.94383535206725,-8.3754487241603783,45.551306120800746,-24.074431282299884,79.031103601421364,215.93171212855304,-68.137702600128932,-82.45816771640807,26.738703407623007,-127.14099523578807,14.871957283591883,-20.118993297803399],"mode":"lines","line":{"color":"#00526d","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x4","yaxis":"y4","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"range":[1976,2019.9166666666667],"showline":true,"showticklabels":false,"anchor":"y"},"xaxis2":{"domain":[0,1],"automargin":true,"showgrid":false,"range":[1976,2019.9166666666667],"showline":true,"showticklabels":false,"anchor":"y2"},"xaxis3":{"domain":[0,1],"automargin":true,"showgrid":false,"range":[1976,2019.9166666666667],"showline":true,"showticklabels":false,"anchor":"y3"},"xaxis4":{"domain":[0,1],"automargin":true,"showgrid":false,"range":[1976,2019.9166666666667],"showline":true,"anchor":"y4"},"yaxis4":{"domain":[0,0.23000000000000001],"automargin":true,"title":"Random","showgrid":false,"anchor":"x4"},"yaxis3":{"domain":[0.27000000000000002,0.47999999999999998],"automargin":true,"title":"Seasonal","showgrid":false,"anchor":"x3"},"yaxis2":{"domain":[0.52000000000000002,0.72999999999999998],"automargin":true,"title":"Trend","showgrid":false,"anchor":"x2"},"yaxis":{"domain":[0.77000000000000002,1],"automargin":true,"title":"Observed","showgrid":false,"anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Decomposition of additive time series - USVSales","hovermode":"closest","showlegend":false},"attrs":{"30d0451613d2":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#00526d"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"30d0487a52a3":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#00526d"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"30d0310bc87":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#00526d"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"30d032496353":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#00526d"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,".hideLegend":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Beside the cycle-trend component, we can observe that the plot has a <strong>strong seasonal pattern</strong>, which we will explore next.</p>
</section>
<section id="seasonal-analysis" class="level3" data-number="42.1.3">
<h3 data-number="42.1.3" class="anchored" data-anchor-id="seasonal-analysis"><span class="header-section-number">42.1.3</span> Seasonal analysis</h3>
<p>To get a closer look at the <strong>seasonal component</strong> of the series, we will subtract from the series, decompose the trend we discussed previously, and use the <code>ts_seasonal</code> function to plot the box <strong>plot of the seasonal component</strong> of the detrend series:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>USVSales_detrend <span class="ot">&lt;-</span> USVSales <span class="sc">-</span> <span class="fu">decompose</span>(USVSales)<span class="sc">$</span>trend</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_seasonal</span>(USVSales_detrend, <span class="at">type =</span> <span class="st">"box"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-015d3910a82038668848" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-015d3910a82038668848">{"x":{"visdat":{"30d03b5b6d3":["function () ","plotlyVisDat"],"30d0454480":["function () ","data"],"30d010a2223a":["function () ","data"],"30d077ab141f":["function () ","data"],"30d0761d4108":["function () ","data"],"30d08c7676":["function () ","data"],"30d06352cf6":["function () ","data"],"30d0499038a2":["function () ","data"],"30d0487d5ea7":["function () ","data"],"30d0742e6ff4":["function () ","data"],"30d03a3ca88":["function () ","data"],"30d014672df2":["function () ","data"],"30d058c74fc":["function () ","data"]},"cur_data":"30d058c74fc","attrs":{"30d0454480":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(228,26,28, 0.5)","line":{"color":"#E41A1C"},"marker":{"color":"#E41A1C"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Jan","showlegend":true,"legendgroup":"box_Jan","inherit":true},"30d010a2223a":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(102,98,141, 0.5)","line":{"color":"#66628D"},"marker":{"color":"#66628D"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Feb","showlegend":true,"legendgroup":"box_Feb","inherit":true},"30d077ab141f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(65,148,134, 0.5)","line":{"color":"#419486"},"marker":{"color":"#419486"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Mar","showlegend":true,"legendgroup":"box_Mar","inherit":true},"30d0761d4108":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(90,157,90, 0.5)","line":{"color":"#5A9D5A"},"marker":{"color":"#5A9D5A"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Apr","showlegend":true,"legendgroup":"box_Apr","inherit":true},"30d08c7676":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(145,86,154, 0.5)","line":{"color":"#91569A"},"marker":{"color":"#91569A"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"May","showlegend":true,"legendgroup":"box_May","inherit":true},"30d06352cf6":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(217,109,59, 0.5)","line":{"color":"#D96D3B"},"marker":{"color":"#D96D3B"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Jun","showlegend":true,"legendgroup":"box_Jun","inherit":true},"30d0499038a2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(255,173,18, 0.5)","line":{"color":"#FFAD12"},"marker":{"color":"#FFAD12"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Jul","showlegend":true,"legendgroup":"box_Jul","inherit":true},"30d0487d5ea7":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(246,239,50, 0.5)","line":{"color":"#F6EF32"},"marker":{"color":"#F6EF32"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Aug","showlegend":true,"legendgroup":"box_Aug","inherit":true},"30d0742e6ff4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(182,116,42, 0.5)","line":{"color":"#B6742A"},"marker":{"color":"#B6742A"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Sep","showlegend":true,"legendgroup":"box_Sep","inherit":true},"30d03a3ca88":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(210,109,122, 0.5)","line":{"color":"#D26D7A"},"marker":{"color":"#D26D7A"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Oct","showlegend":true,"legendgroup":"box_Oct","inherit":true},"30d014672df2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(221,135,180, 0.5)","line":{"color":"#DD87B4"},"marker":{"color":"#DD87B4"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Nov","showlegend":true,"legendgroup":"box_Nov","inherit":true},"30d058c74fc":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(153,153,153, 0.5)","line":{"color":"#999999"},"marker":{"color":"#999999"},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Dec","showlegend":true,"legendgroup":"box_Dec","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"title":"By Frequency Unit"},"title":"Seasonality Plot - USVSales_detrend","xaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(228,26,28, 0.5)","y":[-217.27916666666658,-334.94999999999982,-166.91666666666652,0.84166666666669698,-119.00416666666683,-148.27916666666658,-153.77083333333337,-103.83749999999986,-50.325000000000045,-100.4083333333333,-399.31666666666695,-193.48333333333335,-184.87083333333317,-50.220833333333303,-243.36666666666656,-201.73333333333335,-225.01250000000027,-198.74166666666656,-236.13333333333344,-236.30833333333317,-162.52916666666692,-271.50416666666661,-268.02083333333326,-258.83333333333326,-243.4083333333333,-308.78450000000021,-301.60504166666647,-285.55916666666667,-373.57499999999982,-249.66162499999996,-271.66624999999999,-227.87304166666672,-226.82516666666663,-241.13845833333323,-207.28841666666676,-234.91854166666678,-217.97766666666644,-315.93087500000001,-261.57766666666657,-306.16066666666643,-302.80954166666652,-296.52137499999981,-293.3295416666665],"type":"box","line":{"color":"#E41A1C"},"marker":{"color":"#E41A1C","line":{"color":"rgba(31,119,180,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Jan","showlegend":true,"legendgroup":"box_Jan","xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(102,98,141, 0.5)","y":[-105.41666666666674,-201.92499999999995,-85.937499999999773,17.575000000000159,15.266666666666652,-10.324999999999932,-139.11249999999984,-15.254166666666606,-49.516666666666652,-133.62083333333317,-171.24583333333317,-1.4916666666667879,-145.98750000000018,-126.46666666666647,-147.12083333333317,-80,-172.64166666666677,-78.470833333333303,-141.92083333333335,-50.266666666666652,-102.81666666666661,-134.48749999999995,-87.795833333333348,41.383333333333212,-50.100000000000136,-128.11816666666664,-168.43154166666636,-125.57724999999982,-196.57237499999997,-114.82933333333335,-101.17466666666655,-77.921125000000075,-189.87829166666666,-151.53149999999994,-40.873708333333184,-9.6272083333333285,-82.007874999999785,-146.66158333333351,-156.9992500000003,-118.22720833333324,-109.49291666666659,-149.15691666666635,-184.83599999999979],"type":"box","line":{"color":"#66628D"},"marker":{"color":"#66628D","line":{"color":"rgba(255,127,14,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Feb","showlegend":true,"legendgroup":"box_Feb","xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(65,148,134, 0.5)","y":[242.95416666666665,203.87916666666638,256.82083333333321,141.82500000000005,238.94166666666661,214.33750000000009,129.27083333333348,168.61666666666656,104.78749999999991,-29.404166666666697,77.745833333333394,201.41249999999991,57.416666666666515,110.50000000000023,37.500000000000227,58.425000000000182,73.375000000000227,212.07916666666642,132.75416666666638,116.85000000000036,144.77083333333348,98.3125,150.5958333333333,210.12499999999977,208.46666666666647,76.206750000000056,68.779958333333298,113.19975000000022,135.10337499999991,162.30679166666664,192.23420833333353,128.52350000000001,-9.5238750000000891,141.09254166666653,221.17904166666676,234.34812499999998,172.52891666666642,186.42250000000013,129.40412499999979,124.54208333333304,118.4655833333336,212.92833333333351,169.69595833333346],"type":"box","line":{"color":"#419486"},"marker":{"color":"#419486","line":{"color":"rgba(44,160,44,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Mar","showlegend":true,"legendgroup":"box_Mar","xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(90,157,90, 0.5)","y":[135.47916666666697,127.50416666666683,89.008333333333212,-39.458333333333371,31.541666666666629,32.354166666666856,23.970833333333303,54.020833333333258,77.97083333333353,50.699999999999818,102.61666666666679,30.770833333333258,78.466666666666697,44.387500000000045,2.5000000000002274,70.016666666666879,112.99583333333362,69.579166666666652,-50.233333333333576,68.100000000000136,29.483333333333121,75.320833333333439,17.204166666667106,34.579166666666652,-50.320833333333212,26.943749999999909,27.322291666666843,21.139333333333525,73.216541666666444,71.140833333333376,-14.073874999999816,54.11454166666681,-40.198750000000018,40.910458333333281,110.13912499999992,-3.5613333333330957,4.2442500000001928,23.739041666667163,13.404625000000124,38.832374999999956,-17.81058333333317,-81.043124999999691,-92.682833333333292],"type":"box","line":{"color":"#5A9D5A"},"marker":{"color":"#5A9D5A","line":{"color":"rgba(214,39,40,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Apr","showlegend":true,"legendgroup":"box_Apr","xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(145,86,154, 0.5)","y":[145.29999999999995,273.48749999999995,175.30416666666656,-79.662499999999909,16.279166666666697,165.04583333333346,106.41250000000025,250.2791666666667,198.38333333333344,189.79999999999973,19.425000000000182,146.95833333333348,173.58750000000032,149.97916666666629,124.80833333333362,88.9375,173.25416666666683,106.84999999999991,165.20833333333326,229.70416666666665,155.60416666666674,221.82916666666688,192.68333333333339,164.13749999999982,188.19166666666683,116.24095833333354,189.22554166666669,227.08229166666661,77.500874999999951,110.37116666666634,211.89670833333321,236.35395833333337,65.921375000000126,151.25424999999973,8.5656249999999545,152.63070833333359,154.666791666667,254.47954166666659,193.8236666666669,69.42325000000028,75.761749999999893,153.46691666666652,162.79316666666682],"type":"box","line":{"color":"#91569A"},"marker":{"color":"#91569A","line":{"color":"rgba(148,103,189,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"May","showlegend":true,"legendgroup":"box_May","xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(217,109,59, 0.5)","y":[222.75000000000023,263.41250000000014,0.22500000000013642,-28.829166666666538,37.366666666666674,-3.1958333333333258,189.68750000000011,109.82500000000005,28.058333333333394,76.362499999999727,148.48749999999995,169.80833333333317,81.754166666666833,126.97083333333308,130.0291666666667,209.33333333333348,204.39166666666665,199.2166666666667,216.78750000000014,114.06666666666683,69.154166666666924,279.62916666666661,202.88333333333344,171.34166666666647,198.86249999999995,141.21358333333364,88.185249999999996,44.228958333333367,263.86508333333359,122.48974999999996,106.94216666666648,67.350708333333387,-3.0762499999999591,24.145624999999995,-11.737958333333154,82.976916666666739,102.60066666666648,53.279500000000326,37.056083333333618,61.989124999999831,36.921499999999924,112.64512500000001,92.659625000000233],"type":"box","line":{"color":"#D96D3B"},"marker":{"color":"#D96D3B","line":{"color":"rgba(140,86,75,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Jun","showlegend":true,"legendgroup":"box_Jun","xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(255,173,18, 0.5)","y":[50.89583333333303,-34.641666666666424,-1.9583333333330302,-13.162499999999682,60.320833333333439,1.9041666666665833,-54.237499999999841,15.891666666666652,24.437500000000227,26.874999999999773,30.470833333333303,83.783333333333303,-10.395833333333258,39.829166666666652,79.71666666666647,139.81250000000023,64.004166666666833,79.350000000000136,-63.058333333333167,-5.2291666666669698,26.616666666666561,88.029166666666697,-69.024999999999636,72.933333333333394,-13.90833333333353,-78.679125000000113,124.69291666666709,123.09887500000013,149.87220833333345,388.63787500000012,112.55433333333326,-38.115749999999935,47.937416666666877,126.52070833333335,79.541791666666768,-5.5433333333332939,-65.132499999999936,13.222791666666808,63.354624999999942,59.229958333333343,59.022416666666459,-22.330416666666679,-71.573333333333494],"type":"box","line":{"color":"#FFAD12"},"marker":{"color":"#FFAD12","line":{"color":"rgba(227,119,194,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Jul","showlegend":true,"legendgroup":"box_Jul","xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(246,239,50, 0.5)","y":[-92.891666666666652,0.32916666666687888,16.629166666666833,35.700000000000273,-48.862499999999955,122.69583333333344,-89.970833333333417,-67.912500000000023,-91.137499999999818,35.541666666666288,10.266666666666197,113.41666666666652,12.962500000000091,201.66250000000014,51.712500000000091,13.883333333333439,-30.458333333333258,-42.291666666666742,49.083333333333485,99.325000000000045,42.570833333333439,62.75,-78.504166666666606,53.816666666666606,104.6583333333333,29.881125000000111,312.35525000000007,236.00620833333323,27.085750000000417,63.234249999999975,114.16016666666678,137.47595833333344,198.03650000000016,383.8576250000001,11.290416666666715,-8.4009166666664896,61.331083333333254,205.67558333333341,188.42979166666669,106.5107083333337,53.938083333333225,49.001250000000027,54.811083333333272],"type":"box","line":{"color":"#F6EF32"},"marker":{"color":"#F6EF32","line":{"color":"rgba(127,127,127,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Aug","showlegend":true,"legendgroup":"box_Aug","xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(182,116,42, 0.5)","y":[-73.795833333333121,-129.9375,-200.32500000000005,-123.07083333333321,-83.470833333333303,-11.912500000000023,6.0541666666667879,-105.06250000000011,-171.13749999999959,158.31666666666661,397.67083333333312,1.495833333333394,-66.299999999999727,27.574999999999818,13.695833333333212,9.4875000000001819,-3.9291666666665606,-54.745833333333394,-23.487500000000182,-56.070833333333212,-57.804166666666561,-45.916666666666515,-42.845833333332848,-41.71666666666647,42.283333333333076,-130.01345833333335,-165.05091666666658,-96.145166666666682,31.340333333333092,-92.857083333333094,-21.023666666666713,-15.221999999999753,-44.794791666666583,-143.80537499999991,-43.26166666666677,-40.422041666666701,-41.473124999999982,-172.6114583333333,-150.20987499999978,-21.977916666666488,-21.553958333333185,86.68929166666635,5.9221249999998236],"type":"box","line":{"color":"#B6742A"},"marker":{"color":"#B6742A","line":{"color":"rgba(188,189,34,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Sep","showlegend":true,"legendgroup":"box_Sep","xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(210,109,122, 0.5)","y":[-17.741666666666561,103.36249999999995,97.287499999999909,74.091666666666697,110.3125,-46.079166666666652,-51.637499999999818,20.412500000000136,34.712500000000091,-58.5,-68.633333333333439,-108.7833333333333,-33.512499999999818,-112.20416666666665,52.845833333333303,-9.7208333333335304,23.325000000000045,-49.666666666666515,24.162499999999909,-50.487499999999955,8.5416666666665151,-4.9250000000001819,40.441666666666833,-96.583333333333258,-86.020833333333712,310.34420833333343,-80.719250000000102,-95.664333333333389,-75.400583333333316,-271.81112499999995,-149.37895833333323,-82.451416666666546,-130.93712499999992,-65.156833333333225,-67.458833333333132,-76.039041666666662,-134.9537916666668,-97.301166666666631,-113.58279166666648,-13.783208333333278,-82.154541666666546,-82.72987500000022,-60.52412500000014],"type":"box","line":{"color":"#D26D7A"},"marker":{"color":"#D26D7A","line":{"color":"rgba(23,190,207,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Oct","showlegend":true,"legendgroup":"box_Oct","xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(221,135,180, 0.5)","y":[-76.787499999999909,-66.029166666666697,-39.075000000000045,-70.02499999999975,-64.904166666666811,-125.13750000000005,69.595833333333303,-79.358333333333348,-98.258333333333212,-182.51666666666642,-209.47499999999991,-195.66250000000014,-92.491666666666561,-171.7208333333333,-102.12083333333317,-128.59583333333342,-132.82083333333333,-95.612499999999955,-66.549999999999955,-117.33333333333326,-135.98749999999973,-148.68750000000023,-196.88749999999959,-181.16250000000014,-184.83750000000009,-94.876499999999851,-185.40145833333327,-147.07712500000002,-212.7497083333335,-252.8577916666668,-170.61724999999956,-127.52579166666669,-187.59020833333329,-171.56324999999981,-150.33749999999986,-108.82187500000009,-93.177083333333258,-72.452000000000226,-105.76095833333329,-138.46670833333314,-76.370708333333369,-44.857333333333372,-43.505749999999807],"type":"box","line":{"color":"#DD87B4"},"marker":{"color":"#DD87B4","line":{"color":"rgba(31,119,180,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Nov","showlegend":true,"legendgroup":"box_Nov","xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(153,153,153, 0.5)","y":[-115.17916666666679,-168.28333333333353,-196.34999999999991,-98.495833333333167,-116.05833333333339,-195.4708333333333,-80.383333333333326,-94.404166666666697,-167.23333333333312,-109.82500000000005,111.67083333333335,-66.34583333333353,8.7291666666667425,-202.02916666666658,-103.38333333333321,-104.08749999999986,-61.495833333333394,-89.495833333333394,-47.341666666666697,-84.766666666666652,-124.90833333333353,-22.074999999999818,-3.8499999999999091,-59.579166666666879,-172.86249999999995,-98.96958333333373,54.706249999999955,29.237749999999778,134.83483333333356,79.500333333333401,69.524583333333339,104.3788333333332,-1.2503333333334012,103.14420833333327,123.03800000000001,108.90154166666684,102.96116666666671,31.565333333333228,104.86725000000024,177.61066666666693,244.47283333333348,163.23391666666657,201.44483333333346],"type":"box","line":{"color":"#999999"},"marker":{"color":"#999999","line":{"color":"rgba(255,127,14,1)"}},"boxpoints":"all","jitter":0.29999999999999999,"pointpos":-1.8,"name":"Dec","showlegend":true,"legendgroup":"box_Dec","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>We can see from the preceding <strong>seasonal plot</strong> that, typically, the peak of the year occurred during the months of March, May, and June. In addition, you can see that the sales decay from the summer months and peak again in December during the holiday seasons. On the other hand, the month of January is typically the lowest month of the year in terms of sales.</p>
</section>
<section id="correlation-analysis" class="level3" data-number="42.1.4">
<h3 data-number="42.1.4" class="anchored" data-anchor-id="correlation-analysis"><span class="header-section-number">42.1.4</span> Correlation analysis</h3>
<p>The <strong>USVSales series</strong> has a <strong>high correlation</strong> with its first seasonal lag. We can review this assessment with the use of the <code>ts_acf</code> function from the <strong>TSstudio package</strong> for reviewing the autocorrelation of the series:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># `ts_cor`substitutes ts_acf</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_cor</span>(USVSales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-a1e0cecafcc5d0f45259" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a1e0cecafcc5d0f45259">{"x":{"data":[{"x":[0],"y":[1],"type":"bar","marker":{"color":"black","line":{"color":"rgba(31,119,180,1)"}},"width":0.10000000000000001,"name":"Lag-Zero","legendgroup":"lagzero","showlegend":false,"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[12,24],"y":[0.78998624700736531,0.55484096759503698],"type":"bar","marker":{"color":"red","line":{"color":"rgba(255,127,14,1)"}},"width":[0.10000000000000001,0.10000000000000001],"legendgroup":"seasonal","name":"Seasonal Lag 12","error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,13,14,15,16,17,18,19,20,21,22,23,25,26,27],"y":[0.71235290289122688,0.65601973782464928,0.63078970729743422,0.51149639935144853,0.49037830735910487,0.43333802338483346,0.46196344845669723,0.47157287117556274,0.57393756852810207,0.56521865553537409,0.60735915278787245,0.56569442135148518,0.53482499482077939,0.48519645857547627,0.35800938745792515,0.33530121695310972,0.26854118036998664,0.2920328162452358,0.3015450296950507,0.37284463551686609,0.37647621375783868,0.42113093351927983,0.36847693275931193,0.33276287861546339,0.2772393700817648],"type":"bar","marker":{"color":"#00526d","line":{"color":"rgba(44,160,44,1)"}},"width":[0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001],"legendgroup":"nonseasonal","name":"Non-Seasonal","error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,27],"y":[0.085296484046580537,0.085296484046580537],"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Upper Bound","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,27],"y":[-0.085296484046580537,-0.085296484046580537],"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Lower Bound","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[12,24],"y":[0.48688812910958507,0.091929867815074159],"type":"bar","marker":{"color":"red","line":{"color":"rgba(140,86,75,1)"}},"width":[0.10000000000000001,0.10000000000000001],"legendgroup":"seasonal","showlegend":false,"name":"Seasonal Lag 12","error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,13,14,15,16,17,18,19,20,21,22,23,25,26,27],"y":[0.71235290289122688,0.30163855764637343,0.20002778907520763,-0.091526393163471734,0.060943474034105966,-0.014605895145756382,0.19642068214169944,0.1091167798509875,0.3469436369623437,0.018481271421564031,0.17237495551380405,-0.42883530064809072,-0.14247435234848244,-0.15468516500987103,-0.16467302770664397,-0.079618876865646435,-0.077058366899998967,0.013708822741570205,-0.0052485554228812511,-0.075881938306780777,0.081733481196021529,0.034590263874856704,-0.056025025022037801,-0.12775375270677861,-0.027473201587219172],"type":"bar","marker":{"color":"#00526d","line":{"color":"rgba(227,119,194,1)"}},"width":[0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001,0.10000000000000001],"legendgroup":"nonseasonal","showlegend":false,"name":"Non-Seasonal","error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[1,27],"y":[0.085296484046580537,0.085296484046580537],"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Upper Bound","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[1,27],"y":[-0.085296484046580537,-0.085296484046580537],"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Lower Bound","marker":{"color":"rgba(188,189,34,1)","line":{"color":"rgba(188,189,34,1)"}},"error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y2","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"dtick":12,"title":"Lag","anchor":"y2"},"yaxis2":{"domain":[0,0.47999999999999998],"automargin":true,"title":"PACF","anchor":"x"},"yaxis":{"domain":[0.52000000000000002,1],"automargin":true,"title":"ACF","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"compare","showlegend":true,"title":"USVSales ACF and PACF Plots"},"attrs":{"30d0506155fd":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],"y":[1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"type":"bar","marker":{"color":"black"},"width":0.10000000000000001,"name":"Lag-Zero","legendgroup":"lagzero","showlegend":false,"inherit":true},"30d0506155fd.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],"y":[null,null,null,null,null,null,null,null,null,null,null,null,0.78998624700736531,null,null,null,null,null,null,null,null,null,null,null,0.55484096759503698,null,null,null],"type":"bar","marker":{"color":"red"},"width":0.10000000000000001,"legendgroup":"seasonal","name":"Seasonal Lag 12","inherit":true},"30d0506155fd.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],"y":[null,0.71235290289122688,0.65601973782464928,0.63078970729743422,0.51149639935144853,0.49037830735910487,0.43333802338483346,0.46196344845669723,0.47157287117556274,0.57393756852810207,0.56521865553537409,0.60735915278787245,null,0.56569442135148518,0.53482499482077939,0.48519645857547627,0.35800938745792515,0.33530121695310972,0.26854118036998664,0.2920328162452358,0.3015450296950507,0.37284463551686609,0.37647621375783868,0.42113093351927983,null,0.36847693275931193,0.33276287861546339,0.2772393700817648],"type":"bar","marker":{"color":"#00526d"},"width":0.10000000000000001,"legendgroup":"nonseasonal","name":"Non-Seasonal","inherit":true},"30d0506155fd.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":0,"y":0.085296484046580537,"xend":27,"yend":0.085296484046580537,"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Upper Bound","inherit":true},"30d0506155fd.4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":0,"y":-0.085296484046580537,"xend":27,"yend":-0.085296484046580537,"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Lower Bound","inherit":true},"30d028003265":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],"y":[null,null,null,null,null,null,null,null,null,null,null,0.48688812910958507,null,null,null,null,null,null,null,null,null,null,null,0.091929867815074159,null,null,null],"type":"bar","marker":{"color":"red"},"width":0.10000000000000001,"legendgroup":"seasonal","showlegend":false,"name":"Seasonal Lag 12","inherit":true},"30d028003265.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],"y":[0.71235290289122688,0.30163855764637343,0.20002778907520763,-0.091526393163471734,0.060943474034105966,-0.014605895145756382,0.19642068214169944,0.1091167798509875,0.3469436369623437,0.018481271421564031,0.17237495551380405,null,-0.42883530064809072,-0.14247435234848244,-0.15468516500987103,-0.16467302770664397,-0.079618876865646435,-0.077058366899998967,0.013708822741570205,-0.0052485554228812511,-0.075881938306780777,0.081733481196021529,0.034590263874856704,null,-0.056025025022037801,-0.12775375270677861,-0.027473201587219172],"type":"bar","marker":{"color":"#00526d"},"width":0.10000000000000001,"legendgroup":"nonseasonal","showlegend":false,"name":"Non-Seasonal","inherit":true},"30d028003265.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":1,"y":0.085296484046580537,"xend":27,"yend":0.085296484046580537,"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Upper Bound","inherit":true},"30d028003265.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":1,"y":-0.085296484046580537,"xend":27,"yend":-0.085296484046580537,"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Lower Bound","inherit":true}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>We can <strong>zoom in</strong> on the relationship of the series with the last <strong>three seasonal lags</strong> using the <code>ts_lags</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_lags</span>(USVSales, <span class="at">lags =</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">24</span>, <span class="dv">36</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-96836113ef048f6f9d5f" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-96836113ef048f6f9d5f">{"x":{"data":[{"x":[885.20000000000005,994.70000000000005,1243.5999999999999,1191.2,1203.2,1254.7,1162.3,1026.0999999999999,1057.9000000000001,1129.4000000000001,1084.4000000000001,1061.8,969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001,1181.7149999999999,1328.1400000000001,1687.6089999999999,1391.2260000000001,1626.4839999999999,1586.664,1403.1179999999999,1527.4159999999999,1474.9970000000001,1405.9079999999999,1422.2190000000001,1665.9059999999999],"y":[969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001,1181.7149999999999,1328.1400000000001,1687.6089999999999,1391.2260000000001,1626.4839999999999,1586.664,1403.1179999999999,1527.4159999999999,1474.9970000000001,1405.9079999999999,1422.2190000000001,1665.9059999999999,1171.5029999999999,1288.278,1642.75,1372.6590000000001,1628.0740000000001,1554.748,1443.9469999999999,1685.3420000000001,1315.6320000000001,1380.1800000000001,1446.4829999999999,1565.0229999999999],"mode":"markers","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[885.20000000000005,994.70000000000005,1243.5999999999999,1191.2,1203.2,1254.7,1162.3,1026.0999999999999,1057.9000000000001,1129.4000000000001,1084.4000000000001,1061.8,969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001],"y":[931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001,1181.7149999999999,1328.1400000000001,1687.6089999999999,1391.2260000000001,1626.4839999999999,1586.664,1403.1179999999999,1527.4159999999999,1474.9970000000001,1405.9079999999999,1422.2190000000001,1665.9059999999999,1171.5029999999999,1288.278,1642.75,1372.6590000000001,1628.0740000000001,1554.748,1443.9469999999999,1685.3420000000001,1315.6320000000001,1380.1800000000001,1446.4829999999999,1565.0229999999999],"mode":"markers","type":"scatter","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x2","yaxis":"y","frame":null},{"x":[885.20000000000005,994.70000000000005,1243.5999999999999,1191.2,1203.2,1254.7,1162.3,1026.0999999999999,1057.9000000000001,1129.4000000000001,1084.4000000000001,1061.8,969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933],"y":[1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001,1181.7149999999999,1328.1400000000001,1687.6089999999999,1391.2260000000001,1626.4839999999999,1586.664,1403.1179999999999,1527.4159999999999,1474.9970000000001,1405.9079999999999,1422.2190000000001,1665.9059999999999,1171.5029999999999,1288.278,1642.75,1372.6590000000001,1628.0740000000001,1554.748,1443.9469999999999,1685.3420000000001,1315.6320000000001,1380.1800000000001,1446.4829999999999,1565.0229999999999],"mode":"markers","type":"scatter","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x3","yaxis":"y","frame":null}],"layout":{"xaxis":{"domain":[0,0.3133333333333333],"automargin":true,"title":"","range":[670.46600000000001,1845.713],"anchor":"y"},"xaxis2":{"domain":[0.35333333333333333,0.64666666666666661],"automargin":true,"title":"","range":[670.46600000000001,1845.713],"anchor":"y"},"xaxis3":{"domain":[0.68666666666666665,1],"automargin":true,"title":"","range":[670.46600000000001,1845.713],"anchor":"y"},"yaxis":{"domain":[0,1],"automargin":true,"range":[670.46600000000001,1845.713],"title":[],"anchor":"x"},"annotations":[{"text":"Lag 12","xref":"paper","yref":"paper","yanchor":"bottom","xanchor":"center","align":"center","x":0.15666666666666665,"y":0.90000000000000002,"showarrow":false},{"text":"Lag 24","xref":"paper","yref":"paper","yanchor":"bottom","xanchor":"center","align":"center","x":0.5,"y":0.90000000000000002,"showarrow":false},{"text":"Lag 36","xref":"paper","yref":"paper","yanchor":"bottom","xanchor":"center","align":"center","x":0.84333333333333327,"y":0.90000000000000002,"showarrow":false}],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false,"title":"USVSales - Series (Y axis) vs. Lags (X axis)"},"attrs":{"30d037b45ca3":{"x":[null,null,null,null,null,null,null,null,null,null,null,null,885.20000000000005,994.70000000000005,1243.5999999999999,1191.2,1203.2,1254.7,1162.3,1026.0999999999999,1057.9000000000001,1129.4000000000001,1084.4000000000001,1061.8,969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001,1181.7149999999999,1328.1400000000001,1687.6089999999999,1391.2260000000001,1626.4839999999999,1586.664,1403.1179999999999,1527.4159999999999,1474.9970000000001,1405.9079999999999,1422.2190000000001,1665.9059999999999],"y":[885.20000000000005,994.70000000000005,1243.5999999999999,1191.2,1203.2,1254.7,1162.3,1026.0999999999999,1057.9000000000001,1129.4000000000001,1084.4000000000001,1061.8,969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001,1181.7149999999999,1328.1400000000001,1687.6089999999999,1391.2260000000001,1626.4839999999999,1586.664,1403.1179999999999,1527.4159999999999,1474.9970000000001,1405.9079999999999,1422.2190000000001,1665.9059999999999,1171.5029999999999,1288.278,1642.75,1372.6590000000001,1628.0740000000001,1554.748,1443.9469999999999,1685.3420000000001,1315.6320000000001,1380.1800000000001,1446.4829999999999,1565.0229999999999],"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"30d01cb37ed7":{"x":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,885.20000000000005,994.70000000000005,1243.5999999999999,1191.2,1203.2,1254.7,1162.3,1026.0999999999999,1057.9000000000001,1129.4000000000001,1084.4000000000001,1061.8,969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001],"y":[885.20000000000005,994.70000000000005,1243.5999999999999,1191.2,1203.2,1254.7,1162.3,1026.0999999999999,1057.9000000000001,1129.4000000000001,1084.4000000000001,1061.8,969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001,1181.7149999999999,1328.1400000000001,1687.6089999999999,1391.2260000000001,1626.4839999999999,1586.664,1403.1179999999999,1527.4159999999999,1474.9970000000001,1405.9079999999999,1422.2190000000001,1665.9059999999999,1171.5029999999999,1288.278,1642.75,1372.6590000000001,1628.0740000000001,1554.748,1443.9469999999999,1685.3420000000001,1315.6320000000001,1380.1800000000001,1446.4829999999999,1565.0229999999999],"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"30d024a17510":{"x":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,885.20000000000005,994.70000000000005,1243.5999999999999,1191.2,1203.2,1254.7,1162.3,1026.0999999999999,1057.9000000000001,1129.4000000000001,1084.4000000000001,1061.8,969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933],"y":[885.20000000000005,994.70000000000005,1243.5999999999999,1191.2,1203.2,1254.7,1162.3,1026.0999999999999,1057.9000000000001,1129.4000000000001,1084.4000000000001,1061.8,969.89999999999998,1092.0999999999999,1451.0999999999999,1354.4000000000001,1377.0999999999999,1459.8,1202,1234.5,1104.5999999999999,1341.3,1181.5999999999999,1090.5999999999999,931.29999999999995,1071.4000000000001,1480.5999999999999,1406.5,1557.5999999999999,1549.4000000000001,1289.2,1317.0999999999999,1103.5,1397,1248.7,1068.5,1077.5,1148.7,1483.8,1304.5999999999999,1373,1183.8,1164.4000000000001,1207.2,1029.5999999999999,1197.5999999999999,1018.6,959.70000000000005,1042,1038.7,1141.9000000000001,946.60000000000002,893.79999999999995,932.70000000000005,1006.6,884.20000000000005,847.39999999999998,1043.4000000000001,870.5,821.39999999999998,814.29999999999995,949.20000000000005,1178.8,962.89999999999998,933.10000000000002,942.70000000000005,896.89999999999998,1009,864.79999999999995,822,743,673.20000000000005,714.39999999999998,840.5,1057.3,877.20000000000005,1020.2,868.39999999999998,827.39999999999998,794,891.10000000000002,840.89999999999998,971.5,839.29999999999995,789.29999999999995,821.60000000000002,1102,1012.3,1109.9000000000001,1205.4000000000001,1051.7,993.10000000000002,980.39999999999998,1126,1050.2,1054,1056.9000000000001,1158.9000000000001,1351.5,1245.8,1451.7,1315.9000000000001,1237.2,1129.5999999999999,1053.4000000000001,1266.5,1141.0999999999999,1074.8,1196.5999999999999,1210.5999999999999,1391,1380.3,1498.9000000000001,1332.9000000000001,1337.5999999999999,1345.8,1463.5,1243.2,1120.9000000000001,1198.8,1213.8,1182.2,1297.5999999999999,1390.0999999999999,1530.3,1426.5,1378,1344.0999999999999,1733.5999999999999,1270.5999999999999,1119.9000000000001,1431.0999999999999,918.89999999999998,1148.4000000000001,1381.7,1385.3,1298.5,1419.5999999999999,1355.8,1400.5999999999999,1300.5,1193.2,1110.7,1249.2,1122.5,1308.8,1505,1333.5,1455.4000000000001,1483.0999999999999,1302.8,1317,1223.2,1249.9000000000001,1191.0999999999999,1285.2,1084.2,1127.3,1337.5999999999999,1354.8,1438.4000000000001,1329.2,1279.0999999999999,1441.9000000000001,1263.8,1116.9000000000001,1047.5999999999999,1011.9,1161.3,1073.4000000000001,1295.2,1226.3,1332.0999999999999,1306.0999999999999,1244.4000000000001,1196.9000000000001,1144.8,1169,1000.5,987.20000000000005,839.29999999999995,927.5,1103.0999999999999,1059.5999999999999,1174,1175.3,1185.2,1063,1062.2,1047.5999999999999,932.10000000000002,961.5,867.79999999999995,988.5,1128.4000000000001,1144.9000000000001,1169.7,1297,1158.2,1065.2,1095.4000000000001,1132.2,988.60000000000002,1070.7,915.29999999999995,976.10000000000002,1228.9000000000001,1273.5,1342.2,1383.0999999999999,1266.9000000000001,1158.8,1164.5999999999999,1182.5,1140.9000000000001,1152.7,1045.5,1170.9000000000001,1472.2,1337.9000000000001,1382.0999999999999,1479.5999999999999,1219.5,1329.3,1252.0999999999999,1291.8,1197.9000000000001,1218.9000000000001,1031.5,1128.7,1403.3,1216,1427.5,1477.2,1255.3,1365.2,1214.4000000000001,1226,1169.0999999999999,1202.5999999999999,1050.5999999999999,1237.9000000000001,1404.4000000000001,1359.3,1522.9000000000001,1404.2,1317.3,1333.4000000000001,1231.4000000000001,1296.5999999999999,1146.4000000000001,1151.8,1114.5999999999999,1177.4000000000001,1425.9000000000001,1310.3,1435.8,1355,1376.5999999999999,1348.2,1238.5,1282,1146.0999999999999,1287.7,1044.0999999999999,1173,1405.5,1390.9000000000001,1543.9000000000001,1606.5999999999999,1264.9000000000001,1265.0999999999999,1314.4000000000001,1407.5,1176.4000000000001,1375,1123.7,1325.7,1580.2,1451.7,1632.5999999999999,1651.4000000000001,1529,1523.5999999999999,1442.5,1396.8,1317.2,1440.5999999999999,1239.3,1539.3,1713,1538.9000000000001,1664.9000000000001,1662.7,1468.5999999999999,1578.8,1506.3,1367.7,1260.9000000000001,1271.2,1196.3,1381.5,1627.8,1377,1635.2,1652.2,1374.5999999999999,1478.2,1312.5,1753.2,1347.9000000000001,1336.0999999999999,1129.999,1328.7550000000001,1541.2149999999999,1471.8009999999999,1538.4960000000001,1563.9380000000001,1551.9960000000001,1734.9559999999999,1250.9860000000001,1331.0899999999999,1227.557,1467.7080000000001,1108.279,1237.6189999999999,1474.819,1436.7329999999999,1601.145,1502.328,1538.7809999999999,1656.1669999999999,1329.499,1333.4970000000001,1285.3599999999999,1463.2639999999999,1149.6679999999999,1303.7180000000001,1540.3209999999999,1455.643,1660.854,1480.758,1589.173,1463.4090000000001,1470.0809999999999,1370.0930000000001,1231.1969999999999,1583.6030000000001,1095.8510000000001,1286.0740000000001,1615.9829999999999,1542.0509999999999,1537.3209999999999,1720.0060000000001,1845.713,1524.1579999999999,1366.9300000000001,1184.1600000000001,1200.7860000000001,1525.713,1176.162,1298.1300000000001,1576.6469999999999,1489.8040000000001,1533.712,1545.268,1531.114,1530.0139999999999,1394.2149999999999,1260.626,1236.5840000000001,1476.413,1124.2159999999999,1285.136,1574.877,1365.9649999999999,1590.2619999999999,1481.21,1331.0239999999999,1500.386,1335.8140000000001,1256.5329999999999,1200.511,1414.1469999999999,1063.4079999999999,1196.431,1378.605,1272.999,1420.4849999999999,1212.54,1156.0029999999999,1269.1130000000001,984.59199999999998,859.02599999999995,763.93600000000004,916.12,670.46600000000001,701.63499999999999,872.84799999999996,832.58799999999997,938.40999999999997,874.87400000000002,1011.769,1274.6780000000001,759.63300000000004,853.94200000000001,761.86500000000001,1049.27,712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001,1181.7149999999999,1328.1400000000001,1687.6089999999999,1391.2260000000001,1626.4839999999999,1586.664,1403.1179999999999,1527.4159999999999,1474.9970000000001,1405.9079999999999,1422.2190000000001,1665.9059999999999,1171.5029999999999,1288.278,1642.75,1372.6590000000001,1628.0740000000001,1554.748,1443.9469999999999,1685.3420000000001,1315.6320000000001,1380.1800000000001,1446.4829999999999,1565.0229999999999],"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,".hideLegend":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The relationship of the series with the first and also second seasonal lags has a <strong>strong linear relationship</strong>, as shown in the preceding lags plot.</p>
</section>
<section id="key-findings" class="level3" data-number="42.1.5">
<h3 data-number="42.1.5" class="anchored" data-anchor-id="key-findings"><span class="header-section-number">42.1.5</span> Key findings</h3>
<p>We can conclude our <strong>exploratory analysis of the USVSales series</strong> with the following observations:</p>
<ul>
<li><p>The USVSales series is a monthly series with a clear <strong>monthly seasonality</strong>.</p></li>
<li><p>The series trend has a <strong>cyclic shape</strong>, and so the series has a cycle component embedded in the trend.</p></li>
<li><p>The series’ most <strong>recent cycle</strong> starts right after the end of the 2008 economic crisis, between 2009 and 2010.</p></li>
<li><p>It seems that the current cycle reached its <strong>peak</strong> as the trend starts to flatten out.</p></li>
<li><p>The series has a <strong>strong correlation</strong> with its first seasonal lag.</p></li>
</ul>
<p>Moreover, as we intend to have a <strong>short-term forecast (of 12 months)</strong>, there is no point in using the full series, as it may enter some noise into the model due to the change of the trend direction every couple of years. (If you were trying to create a long-term forecast, then it may be a good idea to use all or most of the series.)</p>
<p>Therefore, we will use the model <strong>training observations from 2010 and onward</strong>. We will use the <code>ts_to_prophet</code> function from the TSstudio package to transform the series from a <code>ts</code> object into a <code>data.frame</code>, and the window function to subset the series observations since January 2010:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">ts_to_prophet</span>(<span class="fu">window</span>(USVSales, <span class="at">start =</span> <span class="fu">c</span>(<span class="dv">2010</span>,<span class="dv">1</span>)))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"date"</span>, <span class="st">"y"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        date        y
1 2010-01-01  712.469
2 2010-02-01  793.362
3 2010-03-01 1083.953
4 2010-04-01  997.334
5 2010-05-01 1117.570
6 2010-06-01 1000.455</code></pre>
</div>
</div>
<p>Before we move forward and start with the <strong>feature engineering stage</strong>, let’s <strong>plot and review</strong> the subset series of USVSales with the ts_plot function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(df, <span class="at">title =</span> <span class="st">"US Total Monthly Vehicle Sales (Subset)"</span>,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">Ytitle =</span> <span class="st">"Thousands of Units"</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">Xtitle =</span> <span class="st">"Year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-b4daea55d9be5ce6e887" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b4daea55d9be5ce6e887">{"x":{"visdat":{"30d0760e4d7e":["function () ","plotlyVisDat"]},"cur_data":"30d0760e4d7e","attrs":{"30d0760e4d7e":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#00526d"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Year","showgrid":false},"yaxis":{"domain":[0,1],"automargin":true,"title":"Thousands of Units","showgrid":false},"title":"US Total Monthly Vehicle Sales (Subset)","hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01"],"y":[712.46900000000005,793.36199999999997,1083.953,997.33399999999995,1117.5699999999999,1000.455,1065.748,1011.564,973.95399999999995,965.13499999999999,888.08500000000004,1162.8969999999999,836.36599999999999,1007.082,1276.8430000000001,1173.52,1081.2719999999999,1071.229,1086.0640000000001,1094.479,1076.037,1048.258,1028.7739999999999,1268.462,938.16999999999996,1175.8199999999999,1434.0039999999999,1204.471,1369.4929999999999,1310.1579999999999,1171.809,1305.3420000000001,1206.182,1119.1479999999999,1169.8030000000001,1375.0840000000001,1065.798,1217.8579999999999,1479.4269999999999,1313.768,1473.2750000000001,1425.8019999999999,1335.8330000000001,1527.4829999999999,1152.8140000000001,1235.5319999999999,1271.4459999999999,1383.6759999999999,1043.019,1221.3699999999999,1562.748,1408.232,1644.367,1451.8140000000001,1473.962,1607.3150000000001,1272.0360000000001,1312.329,1324.117,1538.5340000000001,1177.9100000000001,1285.1469999999999,1579.627,1479.335,1668.452,1518.6600000000001,1546.818,1598.2650000000001,1474.925,1486.4200000000001,1358.777,1671.288,1188.7750000000001,1374.2719999999999,1614.069,1524.0999999999999,1552.6590000000001,1548.8599999999999,1546.818,1539.79,1462.0650000000001,1397.057,1399.375,1717.933,1164.3230000000001,1352.076,1582.674,1449.7170000000001,1543.8620000000001,1502.8040000000001,1441.011,1512.0699999999999,1553.133,1385.6489999999999,1424.527,1639.5550000000001,1181.7149999999999,1328.1400000000001,1687.6089999999999,1391.2260000000001,1626.4839999999999,1586.664,1403.1179999999999,1527.4159999999999,1474.9970000000001,1405.9079999999999,1422.2190000000001,1665.9059999999999,1171.5029999999999,1288.278,1642.75,1372.6590000000001,1628.0740000000001,1554.748,1443.9469999999999,1685.3420000000001,1315.6320000000001,1380.1800000000001,1446.4829999999999,1565.0229999999999],"mode":"lines","line":{"color":"#00526d","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="feature-engineering" class="level2" data-number="42.2">
<h2 data-number="42.2" class="anchored" data-anchor-id="feature-engineering"><span class="header-section-number">42.2</span> Feature Engineering</h2>
<p><strong>Feature engineering</strong> plays a pivotal role when modeling with ML algorithms. Our next step, based on the preceding observations, is to <strong>create new features</strong> that can be used as informative input for the model. In the context of time series forecasting, these are some examples of possible new features that can be created from the series itself:</p>
<ul>
<li><p><strong>The series trend</strong>: This uses a numeric index. In addition, as the series trend isn’t linear, we will use a second polynomial of the index to capture the overall curvature of the series trend.</p></li>
<li><p><strong>Seasonal component</strong>: This creates a categorical variable for the month of the year to capture the series’ seasonality.</p></li>
<li><p><strong>Series correlation</strong>: This utilizes the strong correlation of the series with its seasonal lag and uses the seasonal lag (lag12) as an input to the model.</p></li>
</ul>
<p><em>Example:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">factor</span>(<span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>), </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">ordered =</span> <span class="cn">FALSE</span>),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">lag12 =</span> <span class="fu">lag</span>(y, <span class="at">n =</span> <span class="dv">12</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(lag12))</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the trend component and its second polynomial (trend squared)</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>trend <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>trend_sqr <span class="ot">&lt;-</span> df<span class="sc">$</span>trend <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># View the structure of the df object after adding the new features</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   108 obs. of  6 variables:
 $ date     : Date, format: "2011-01-01" "2011-02-01" ...
 $ y        : num  836 1007 1277 1174 1081 ...
 $ month    : Factor w/ 12 levels "ene","feb","mar",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ lag12    : num  712 793 1084 997 1118 ...
 $ trend    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ trend_sqr: num  1 4 9 16 25 36 49 64 81 100 ...</code></pre>
</div>
</div>
<p>There are <strong>additional feature engineering steps</strong>, which in the case of the USVSales series are not required, but may be required in other cases, i.e.&nbsp;scaling, hot encoding.</p>
</section>
<section id="training-testing-and-model-evaluation" class="level2" data-number="42.3">
<h2 data-number="42.3" class="anchored" data-anchor-id="training-testing-and-model-evaluation"><span class="header-section-number">42.3</span> Training, Testing, and Model Evaluation</h2>
<p>In order to <strong>compare the different models</strong> that we will be testing in this chapter, we will use the same inputs that we used previously. This includes executing <strong>same training and testing partitions</strong> throughout this chapter. Since our forecast horizon is for 12 months, we will leave the last 12 months of the series as testing partitions and use the rest of the series as a training partition:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="dv">12</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>train_df <span class="ot">&lt;-</span> df[<span class="dv">1</span><span class="sc">:</span>(<span class="fu">nrow</span>(df) <span class="sc">-</span> h), ]</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>test_df <span class="ot">&lt;-</span> df[(<span class="fu">nrow</span>(df) <span class="sc">-</span> h <span class="sc">+</span> <span class="dv">1</span>)<span class="sc">:</span><span class="fu">nrow</span>(df), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Previously, the <span class="math inline">\(h\)</span> variable represented the forecast horizon, which, in this case, is also equal to the length of the testing partition. We will evaluate the model’s performance based on the <code>MAPE</code> score on the testing partition.</p>
<p>Be aware that One of the main characteristics of ML models is the <strong>tendency to overfit</strong> on the training set. Therefore, you should expect that the ratio between the error score on the testing and training partition will be relatively larger than the corresponding results of traditional time series models, such as ARIMA, Holt-Winters, and time series linear regression. In addition to the training and testing partitions, we need to <strong>create the inputs</strong> for the forecast itself. We will create a data.frame with the dates of the following 12 months and build the rest of the features:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>forecast_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">date =</span> <span class="fu">seq.Date</span>(<span class="at">from =</span> <span class="fu">max</span>(df<span class="sc">$</span>date) <span class="sc">+</span> <span class="fu">month</span>(<span class="dv">1</span>),</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">length.out =</span> h, <span class="at">by =</span> <span class="st">"month"</span>),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">trend =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="fu">max</span>(df<span class="sc">$</span>trend) <span class="sc">+</span> <span class="dv">1</span>, </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">length.out =</span> h, <span class="at">by =</span> <span class="dv">1</span>))</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>forecast_df<span class="sc">$</span>trend_sqr <span class="ot">&lt;-</span> forecast_df<span class="sc">$</span>trend <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>forecast_df<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">month</span>(forecast_df<span class="sc">$</span>date, <span class="at">label =</span> <span class="cn">TRUE</span>), </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">ordered =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Last but not least, we will <strong>extract the last 12 observations of the series</strong> from the <code>df</code> object and assign them as the future lags of the series:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>forecast_df<span class="sc">$</span>lag12 <span class="ot">&lt;-</span> <span class="fu">tail</span>(df<span class="sc">$</span>y, <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-benchmark" class="level2" data-number="42.4">
<h2 data-number="42.4" class="anchored" data-anchor-id="model-benchmark"><span class="header-section-number">42.4</span> Model Benchmark</h2>
<p>The performance of a forecasting model should be measured by the error rate, mainly on the testing partition, but also on the training partition. You should <strong>evaluate the performance of the model</strong> with respect to some baseline model. Since we are using a family of ML regression models, it makes more sense to use a <strong>regression model</strong> as a benchmark for the ML models.</p>
<p>We will <strong>train</strong> a time series linear regression model using the training and testing partitions we created previously, and <strong>evaluate its performance</strong> with the testing partitions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>lr <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> month <span class="sc">+</span> lag12 <span class="sc">+</span> trend <span class="sc">+</span> trend_sqr, <span class="at">data =</span> train_df)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(lr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = y ~ month + lag12 + trend + trend_sqr, data = train_df)

Residuals:
     Min       1Q   Median       3Q      Max 
-146.625  -38.997    0.111   39.196  112.577 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 542.93505   72.59490   7.479 7.91e-11 ***
monthfeb    112.73160   34.16141   3.300 0.001439 ** 
monthmar    299.20932   54.24042   5.516 4.03e-07 ***
monthabr    182.52406   42.53129   4.292 4.88e-05 ***
monthmay    268.75603   51.28464   5.240 1.24e-06 ***
monthjun    224.66897   44.26374   5.076 2.41e-06 ***
monthjul    177.88564   42.21898   4.213 6.49e-05 ***
monthago    241.63260   47.00693   5.140 1.86e-06 ***
monthsep    152.99058   37.04199   4.130 8.76e-05 ***
monthoct    125.16484   35.04896   3.571 0.000601 ***
monthnov    127.97288   34.18772   3.743 0.000338 ***
monthdic    278.67994   51.09552   5.454 5.21e-07 ***
lag12         0.33906    0.10738   3.158 0.002236 ** 
trend         7.73667    1.72415   4.487 2.36e-05 ***
trend_sqr    -0.05587    0.01221  -4.576 1.69e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 59.6 on 81 degrees of freedom
Multiple R-squared:  0.9198,    Adjusted R-squared:  0.9059 
F-statistic: 66.36 on 14 and 81 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Next, we will <strong>predict</strong> the corresponding values of the series on the testing partition with the <code>predict</code> function by using <code>test_df</code> as input:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>test_df<span class="sc">$</span>yhat <span class="ot">&lt;-</span> <span class="fu">predict</span>(lr, <span class="at">newdata =</span> test_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we can <strong>evaluate the model’s performance</strong> on the testing partition:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>mape_lr <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(test_df<span class="sc">$</span>y <span class="sc">-</span> test_df<span class="sc">$</span>yhat) <span class="sc">/</span> test_df<span class="sc">$</span>y)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>mape_lr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.03594578</code></pre>
</div>
</div>
<p>Hence, the <code>MAPE</code> score of the linear regression forecasting model is 3.5%. We will use this to <strong>benchmark the performance of the ML models</strong>.</p>
</section>
<section id="building-a-ml-model" class="level2" data-number="42.5">
<h2 data-number="42.5" class="anchored" data-anchor-id="building-a-ml-model"><span class="header-section-number">42.5</span> Building a ML Model</h2>
<section id="starting-a-h2o-cluster" class="level3" data-number="42.5.1">
<h3 data-number="42.5.1" class="anchored" data-anchor-id="starting-a-h2o-cluster"><span class="header-section-number">42.5.1</span> Starting a <code>h2o</code> Cluster</h3>
<p>We will start loading the package and then set the in-memory cluster with the h2o.init function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(h2o)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">h2o.init</span>(<span class="at">max_mem_size =</span> <span class="st">"16G"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
H2O is not running yet, starting it now...

Note:  In case of errors look at the following log files:
    C:\Users\javie\AppData\Local\Temp\Rtmp4WiDYv\file30d0715134f0/h2o_javie_started_from_r.out
    C:\Users\javie\AppData\Local\Temp\Rtmp4WiDYv\file30d04b5a7735/h2o_javie_started_from_r.err


Starting H2O JVM and connecting:  Connection successful!

R is connected to the H2O cluster: 
    H2O cluster uptime:         5 seconds 971 milliseconds 
    H2O cluster timezone:       Europe/Paris 
    H2O data parsing timezone:  UTC 
    H2O cluster version:        3.44.0.3 
    H2O cluster version age:    9 months and 25 days 
    H2O cluster name:           H2O_started_from_R_javie_kii293 
    H2O cluster total nodes:    1 
    H2O cluster total memory:   16.00 GB 
    H2O cluster total cores:    8 
    H2O cluster allowed cores:  8 
    H2O cluster healthy:        TRUE 
    H2O Connection ip:          localhost 
    H2O Connection port:        54321 
    H2O Connection proxy:       NA 
    H2O Internal Security:      FALSE 
    R Version:                  R version 4.4.1 (2024-06-14 ucrt) </code></pre>
</div>
</div>
<p><code>h2o.init</code> allows you to set the <strong>memory size of the cluster</strong> with the <code>max_mem_size</code> argument. The output of the function, as shown in the preceding code, provides information about the cluster’s setup.</p>
<p>Any data that is used throughout the training and testing process of the models by the <strong>h2o package</strong> must load to the cluster itself. The <code>as.h2o</code> function allows us to transform any <code>data.frame</code> object into a <strong>h2o cluster</strong>:</p>
<p><em>Example:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>train_h <span class="ot">&lt;-</span> <span class="fu">as.h2o</span>(train_df)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>test_h <span class="ot">&lt;-</span> <span class="fu">as.h2o</span>(test_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In addition, we will transform the <code>forecast_df</code> object (the future values of the series inputs) into an <strong>h2o object</strong>, which will be used to generate the final forecast:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>forecast_h <span class="ot">&lt;-</span> <span class="fu">as.h2o</span>(forecast_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For our convenience, we will <strong>label the names of the dependent and independent variables</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"month"</span>, <span class="st">"lag12"</span>, <span class="st">"trend"</span>, <span class="st">"trend_sqr"</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="st">"y"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="training-an-ml-model" class="level3" data-number="42.5.2">
<h3 data-number="42.5.2" class="anchored" data-anchor-id="training-an-ml-model"><span class="header-section-number">42.5.2</span> Training an ML model</h3>
<p>The h2o package provides a set of tools for training and testing ML models. The most common model training approaches are as follows:</p>
<ul>
<li><p><strong>Training/testing</strong>: This is based on splitting the input data into training and testing partitions by allocating most of the input data to the training partition and leaving the rest to the testing partition. As the names of the partitions imply, the training set is used to train the model, while the testing partition is used to test its performance on new data. Typical allocations are <strong>70/30</strong> (that is, 70% of the data to the training partition and 30% to the testing partition), or roughly close to that ratio, where the data allocation between the two partitions must be random.</p></li>
<li><p><strong>Training/testing/validation</strong>: This is relatively similar to the previous approach, except with added validation partitions. The validation partition is used during the training process to evaluate the tuning of the model parameters. The tuned models are then tested on the testing partition.</p></li>
<li><p><strong>Cross-validation</strong>: This is one of the <strong>most popular training methods for ML models</strong> as it reduces the chance of overfitting of the model. This method is based on the following steps:</p>
<ol type="1">
<li>Splitting the training set, randomly, into <span class="math inline">\(K\)</span> folders.</li>
<li>Training the model <span class="math inline">\(K\)</span> times, each time leaving a different folder out as a testing partition, and training the model with the remaining <span class="math inline">\(K-1\)</span> folders.</li>
<li>Throughout the training process, the model tunes the model’s parameters.</li>
<li>The final model is tested on the testing partition.</li>
</ol></li>
</ul>
<p>we will use the <strong>cross-validation (CV)</strong> approach to train these models.</p>
</section>
<section id="forecasting-with-the-random-forest-model" class="level3" data-number="42.5.3">
<h3 data-number="42.5.3" class="anchored" data-anchor-id="forecasting-with-the-random-forest-model"><span class="header-section-number">42.5.3</span> Forecasting with the Random Forest model</h3>
<p>Now that we have prepared the data, created new features, and launched a h2o cluster, we are ready to build our first forecasting model with the <strong>Random Forest (RF) algorithm</strong>. The RF algorithm is one of the most popular ML models, and it can be used for both classification and regression problems. In a nutshell, the RF algorithm is based on an ensemble of multiple tree models.</p>
<p>As its name implies, it has two main components:</p>
<ul>
<li><p><strong>Random</strong>: The input for each tree model is based on a random sample, along with the replacement of both the columns and rows of the input data. This method is also known as bagging.</p></li>
<li><p><strong>Forest</strong>: The collection of tree-based models, which eventually creates the forest.</p></li>
</ul>
<p>We will start with a simplistic <strong>RF model by using 500 trees and 5 folder CV training</strong>. In addition, we will add a stop criteria to prevent the model from fitting the model while there is no significant change in the model’s performance. In this case, we will set the stopping metric as <code>RMSE</code>, the stopping tolerance as 0.0001, and the stopping rounds to 10:</p>
<p><em>Example:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>rf_md <span class="ot">&lt;-</span> <span class="fu">h2o.randomForest</span>(<span class="at">training_frame =</span> train_h, </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">nfolds =</span> <span class="dv">5</span>,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">x =</span> x,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">y =</span> y,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">ntrees =</span> <span class="dv">500</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">stopping_rounds =</span> <span class="dv">10</span>,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">stopping_metric =</span> <span class="st">"RMSE"</span>,</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>                          <span class="at">score_each_iteration =</span> <span class="cn">TRUE</span>,</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>                          <span class="at">stopping_tolerance =</span> <span class="fl">0.0001</span>,</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>                          <span class="at">seed =</span> <span class="dv">1234</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>h2o.randomForest</code> function returns an object with information about the <strong>parameter settings of the model and its performance on the training set</strong> (and validation, if used). We can view the contribution of the model inputs with the <code>h2o.varimp_plot</code> function. This function returns a plot with the ranking of the input variables’ contribution to the model performance using a scale between 0 and 1, as shown in the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">h2o.varimp_plot</span>(rf_md)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="time_forecast_ml_files/figure-html/unnamed-chunk-21-1.png" class="quarto-discovered-preview-image img-fluid" width="672"></p>
</div>
</div>
<p>As we can see from the preceding <strong>variable importance plot</strong>, the lag variable, <code>lag12</code>, is the most important to the model. This shouldn’t be a surprise as we saw the strong relationship between the series and its seasonal lag in the correlation analysis. Right after this, the most important variables are <code>trend_sqr</code>, <code>month</code>, and <code>trend</code>. The output of the model contains (besides the model itself) information about the model’s performance and parameters.</p>
<p>Let’s <strong>review the model summary</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>rf_md<span class="sc">@</span>model<span class="sc">$</span>model_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Model Summary: 
  number_of_trees number_of_internal_trees model_size_in_bytes min_depth
1              41                       41               31591         8
  max_depth mean_depth min_leaves max_leaves mean_leaves
1        12   10.04878         45         66    56.70732</code></pre>
</div>
</div>
<p>We can see that we utilized only <strong>41 trees out of the 500</strong> that were set by the <code>ntrees</code> argument. This is as a result of the stopping parameters that were used on the model. The following plot demonstrates the <strong>learning process of the model</strong> as a function of the number of trees:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>tree_score <span class="ot">&lt;-</span> rf_md<span class="sc">@</span>model<span class="sc">$</span>scoring_history<span class="sc">$</span>training_rmse</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="fu">seq_along</span>(tree_score), <span class="at">y =</span> tree_score,</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"line"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"The Trained Model Score History"</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"RMSE"</span>),</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Num. of Trees"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-1c6b6e44fbdb1514a9c8" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-1c6b6e44fbdb1514a9c8">{"x":{"visdat":{"30d06cd16d58":["function () ","plotlyVisDat"]},"cur_data":"30d06cd16d58","attrs":{"30d06cd16d58":{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],"y":[null,133.863415871379,122.75235953222101,127.966610653057,107.467794591274,104.032557733057,97.262318905858507,90.044317328953895,90.2606718820049,87.753978443609199,85.372563455023595,87.663654009047903,85.098243373371702,85.677401622764293,87.323731107267605,87.038818900359502,86.207191592651697,85.552796130439205,86.326858773557603,84.369489563961196,83.750228864798402,83.229252355730395,83.0872154856565,84.265159238906605,83.601061080754405,82.705507795064307,80.231827754477493,79.525882075544502,78.7175181465485,77.471090518881994,77.412992525853795,76.319147727644307,75.900566720300802,75.380621965831196,75.1347401492648,74.193783116766497,74.118736222899301,73.061086554543195,73.157065147069304,73.125538664957006,72.917547127761495,72.665282057906495],"mode":"line","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"The Trained Model Score History","yaxis":{"domain":[0,1],"automargin":true,"title":"RMSE"},"xaxis":{"domain":[0,1],"automargin":true,"title":"Num. of Trees"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],"y":[133.863415871379,122.75235953222101,127.966610653057,107.467794591274,104.032557733057,97.262318905858507,90.044317328953895,90.2606718820049,87.753978443609199,85.372563455023595,87.663654009047903,85.098243373371702,85.677401622764293,87.323731107267605,87.038818900359502,86.207191592651697,85.552796130439205,86.326858773557603,84.369489563961196,83.750228864798402,83.229252355730395,83.0872154856565,84.265159238906605,83.601061080754405,82.705507795064307,80.231827754477493,79.525882075544502,78.7175181465485,77.471090518881994,77.412992525853795,76.319147727644307,75.900566720300802,75.380621965831196,75.1347401492648,74.193783116766497,74.118736222899301,73.061086554543195,73.157065147069304,73.125538664957006,72.917547127761495,72.665282057906495],"mode":"line","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Last but not least, let’s <strong>measure the model’s performance</strong> on the testing partition. We will use the <code>h2o.predict</code> function to predict the corresponding values of the series on the testing partition:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test_h &lt;- as.h2o(test_df)</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>test_h<span class="sc">$</span>pred_rf <span class="ot">&lt;-</span> <span class="fu">h2o.predict</span>(rf_md, test_h)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">h2o.shutdown</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Next, we will transfer the <strong>h2o data frame to a data.frame object</strong> with the <code>as.data.frame</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>test_1 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(test_h)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we can <strong>calculate the <code>MAPE</code> score</strong> of the RF model on the test partition:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>mape_rf <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(test_1<span class="sc">$</span>y <span class="sc">-</span> test_1<span class="sc">$</span>pred_rf) <span class="sc">/</span> test_1<span class="sc">$</span>y)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>mape_rf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.04647164</code></pre>
</div>
</div>
<p>As you can see from the model error score, the <strong>RF model</strong> with its default settings was able to <strong>achieve a lower error rate</strong> than our benchmark model, that is, the linear regression model, with a <strong>MAPE score of 4.6%</strong> as opposed to 3.6%.</p>
</section>
<section id="model-optimization" class="level3" data-number="42.5.4">
<h3 data-number="42.5.4" class="anchored" data-anchor-id="model-optimization"><span class="header-section-number">42.5.4</span> Model optimization</h3>
<p>Generally, when using the default option for the model’s parameters, the model may perform well, but there might be <strong>some room left for additional optimization and improvement</strong> in regards to the performance of the model. There are a variety of techniques for <strong>model optimization and tuning parameters</strong>, such as manual tuning, grid search, and algorithm-based tuning.</p>
<p><u><strong>GRID SEARCH APPROACH</strong></u></p>
<p>The <code>h2o.grid</code> function allows you to <strong>set a set of values</strong> for some selected parameters and test their performance on the model in order to identify the <strong>tuning parameters</strong> that optimize the model’s performance.</p>
<p><em>Example:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Start by setting the search parameters</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>hyper_params_rf <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">mtries =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>), </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">sample_rate =</span> <span class="fu">c</span>(<span class="fl">0.632</span>, <span class="fl">0.8</span>, <span class="fl">0.95</span>),</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">col_sample_rate_per_tree =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="fl">0.9</span>, <span class="fl">1.0</span>),</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">max_depth =</span> <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">30</span>, <span class="dv">3</span>)),</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">min_rows =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The more parameters you add or define for a wide range of values, the larger the possible <strong>search combination</strong>. For efficiency reasons, we will set a <strong>random search</strong> and restrict the search time to 20 minutes with <code>max_runtime_sec</code>. We will use the same stopping metric that we used previously:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#{r Five}</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>search_criteria_rf <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">strategy =</span> <span class="st">"RandomDiscrete"</span>,</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">stopping_metric =</span> <span class="st">"rmse"</span>,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">stopping_tolerance =</span> <span class="fl">0.0001</span>,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">stopping_rounds =</span> <span class="dv">10</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">max_runtime_secs =</span> <span class="dv">60</span> <span class="sc">*</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After we set the search arguments for the <code>h2o.grid</code> function, <strong>we can start the search</strong>:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#{r Six}</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>rf2 <span class="ot">&lt;-</span> <span class="fu">h2o.grid</span>(<span class="at">algorithm =</span> <span class="st">"randomForest"</span>, </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">search_criteria =</span> search_criteria_rf,</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">hyper_params =</span> hyper_params_rf,</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> x,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> y,</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">training_frame =</span> train_h,</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">ntrees =</span> <span class="dv">5000</span>,</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">nfolds =</span> <span class="dv">5</span>,</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">grid_id =</span> <span class="st">"rf_grid"</span>,</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">parallelism =</span> <span class="dv">1</span>,</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">seed =</span> <span class="dv">1234</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that setting a large number of trees with a tree-based model such as RF or GBM, along with a stopping metric, will ensure that the model will keep building additional trees until it meets the stopping criteria. Therefore, setting the <strong>stopping criteria plays a critical roll</strong> in both the efficiency of the model and its results.</p>
<p>We will now <strong>extract the grid results</strong>, sort the models by their RMSE score, and pull the lead model:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>rf2_grid_search <span class="ot">&lt;-</span> <span class="fu">h2o.getGrid</span>(<span class="at">grid_id =</span> <span class="st">"rf_grid"</span>,</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>                               <span class="at">sort_by =</span> <span class="st">"rmse"</span>,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>                               <span class="at">decreasing =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>rf_grid_model <span class="ot">&lt;-</span> <span class="fu">h2o.getModel</span>(rf2_grid_search<span class="sc">@</span>model_ids[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let’s <strong>test</strong> the model on the testing partition and <strong>evaluate its performance</strong>:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>test_h<span class="sc">$</span>rf_grid <span class="ot">&lt;-</span> <span class="fu">h2o.predict</span>(rf_grid_model, test_h)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>mape_rf2 <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(test_1<span class="sc">$</span>y <span class="sc">-</span> test_1<span class="sc">$</span>rf_grid) <span class="sc">/</span> test_1<span class="sc">$</span>y)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>mape_rf2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <strong>additional optimization step</strong> contributed to the <strong>lift in the model’s accuracy</strong>, with a MAPE score of 3.33% compared to 3.7% and 4% for the first RF model we trained, and the linear regression model, respectively.</p>
<p>The following plot provides an <strong>additional view of the model’s performance</strong>:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(<span class="at">data =</span> test_1) <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_lines</span>(<span class="at">x =</span> <span class="sc">~</span> date, <span class="at">y =</span> <span class="sc">~</span>y, <span class="at">name =</span> <span class="st">"Actual"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_lines</span>(<span class="at">x =</span> <span class="sc">~</span> date, <span class="at">y =</span> <span class="sc">~</span> yhat, <span class="at">name =</span> <span class="st">"Linear Regression"</span>, </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">line =</span> <span class="fu">list</span>(<span class="at">dash =</span> <span class="st">"dot"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_lines</span>(<span class="at">x =</span> <span class="sc">~</span> date, <span class="at">y =</span> <span class="sc">~</span> pred_rf, <span class="at">name =</span> <span class="st">"Random Forest"</span>, </span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">line =</span> <span class="fu">list</span>(<span class="at">dash =</span> <span class="st">"dash"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_lines</span>(<span class="at">x =</span> <span class="sc">~</span> date, <span class="at">y =</span> <span class="sc">~</span> rf_grid, <span class="at">name =</span> <span class="st">"Random Forest (grid)"</span>, </span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">line =</span> <span class="fu">list</span>(<span class="at">dash =</span> <span class="st">"dash"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Total Vehicle Sales - Actual vs. Prediction (Random Forest)"</span>,</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Thousands of Units"</span>),</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Month"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="forecasting-with-the-gbm-model" class="level3" data-number="42.5.5">
<h3 data-number="42.5.5" class="anchored" data-anchor-id="forecasting-with-the-gbm-model"><span class="header-section-number">42.5.5</span> Forecasting with the GBM model</h3>
<p>The <strong>GBM algorithm</strong> is another ensemble and tree-based model. It uses the <strong>boosting approach</strong> in order to train different subsets of the data, and repeats the training of subsets that the model had with a high error rate. This allows the model to learn from past mistakes and improve the predictive power of the model.</p>
<p>The following example demonstrates the use of the <code>h2o.gbm</code> function for <strong>training the GBM model</strong> with the same input data we used previously:</p>
<p><em>Example:</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>gbm_md <span class="ot">&lt;-</span> <span class="fu">h2o.gbm</span>(<span class="at">training_frame =</span> train_h,</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">nfolds =</span> <span class="dv">5</span>,</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">x =</span> x, </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">y =</span> y, </span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">max_depth =</span> <span class="dv">20</span>,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">distribution =</span> <span class="st">"gaussian"</span>,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">ntrees =</span> <span class="dv">500</span>,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">learn_rate =</span> <span class="fl">0.1</span>,</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">score_each_iteration =</span> <span class="cn">TRUE</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can review the <strong>rank of the importance</strong> of the model’s variables with the <code>h2o.varimp_plot</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">h2o.varimp_plot</span>(gbm_md)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="time_forecast_ml_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>For RF, the GBM model ranks the <strong>lag12 variable as the most important</strong> to the model. Let’s test the <strong>model’s performance</strong> on the testing set:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>test_h<span class="sc">$</span>pred_gbm <span class="ot">&lt;-</span> <span class="fu">h2o.predict</span>(gbm_md, test_h)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>test_1 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(test_h)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>mape_gbm <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(test_1<span class="sc">$</span>y <span class="sc">-</span> test_1<span class="sc">$</span>pred_gbm) <span class="sc">/</span> test_1<span class="sc">$</span>y)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>mape_gbm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The GBM model scored the <strong>lowest MAPE (is not!)</strong> among the models we’ve tested so far with a 3.8% error rate, compared to the RF model (with grid search) and linear regression model. It would be a great exercise to apply a grid search on the GBM model and test whether any additional improvements can be achieved.</p>
<p>Let’s <strong>visualize the results and compare the prediction</strong> with the actual and baseline prediction:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(<span class="at">data =</span> test_1) <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_lines</span>(<span class="at">x =</span> <span class="sc">~</span> date, <span class="at">y =</span> <span class="sc">~</span>y, <span class="at">name =</span> <span class="st">"Actual"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_lines</span>(<span class="at">x =</span> <span class="sc">~</span> date, <span class="at">y =</span> <span class="sc">~</span> yhat, </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">"Linear Regression"</span>, </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">line =</span> <span class="fu">list</span>(<span class="at">dash =</span> <span class="st">"dot"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_lines</span>(<span class="at">x =</span> <span class="sc">~</span> date, <span class="at">y =</span> <span class="sc">~</span> pred_gbm, </span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">"Gradient Boosting Machine"</span>, <span class="at">line =</span> <span class="fu">list</span>(<span class="at">dash =</span> <span class="st">"dash"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Total Vehicle Sales - Actual vs. Prediction (Gradient Boosting Machine)"</span>,</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Thousands of Units"</span>),</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Month"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-f56970d8b95fd2daac9b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f56970d8b95fd2daac9b">{"x":{"visdat":{"30d0721a719f":["function () ","plotlyVisDat"]},"cur_data":"30d0721a719f","attrs":{"30d0721a719f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Actual","inherit":true},"30d0721a719f.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Linear Regression","line":{"dash":"dot"},"inherit":true},"30d0721a719f.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"lines","name":"Gradient Boosting Machine","line":{"dash":"dash"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Total Vehicle Sales - Actual vs. Prediction (Gradient Boosting Machine)","yaxis":{"domain":[0,1],"automargin":true,"title":"Thousands of Units"},"xaxis":{"domain":[0,1],"automargin":true,"title":"Month"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2019-01-01 01:00:00.000000","2019-02-01 01:00:00.000000","2019-03-01 01:00:00.000000","2019-04-01 02:00:00.000000","2019-05-01 02:00:00.000000","2019-06-01 02:00:00.000000","2019-07-01 02:00:00.000000","2019-08-01 02:00:00.000000","2019-09-01 02:00:00.000000","2019-10-01 02:00:00.000000","2019-11-01 01:00:00.000000","2019-12-01 01:00:00.000000"],"y":[1171.5029999999999,1288.278,1642.75,1372.6590000000001,1628.0740000000001,1554.748,1443.9469999999999,1685.3420000000001,1315.6320000000001,1380.1800000000001,1446.4829999999999,1565.0229999999999],"type":"scatter","mode":"lines","name":"Actual","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2019-01-01 01:00:00.000000","2019-02-01 01:00:00.000000","2019-03-01 01:00:00.000000","2019-04-01 02:00:00.000000","2019-05-01 02:00:00.000000","2019-06-01 02:00:00.000000","2019-07-01 02:00:00.000000","2019-08-01 02:00:00.000000","2019-09-01 02:00:00.000000","2019-10-01 02:00:00.000000","2019-11-01 01:00:00.000000","2019-12-01 01:00:00.000000"],"y":[1168.4062105529799,1327.6267096834699,1632.7154826733099,1412.1588396935399,1574.6638892150199,1513.4712619956199,1400.73943401368,1502.8025822689399,1392.4480208029399,1337.1459424674399,1341.3213072973699,1570.3772107853399],"type":"scatter","mode":"lines","name":"Linear Regression","line":{"color":"rgba(255,127,14,1)","dash":"dot"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2019-01-01 01:00:00.000000","2019-02-01 01:00:00.000000","2019-03-01 01:00:00.000000","2019-04-01 02:00:00.000000","2019-05-01 02:00:00.000000","2019-06-01 02:00:00.000000","2019-07-01 02:00:00.000000","2019-08-01 02:00:00.000000","2019-09-01 02:00:00.000000","2019-10-01 02:00:00.000000","2019-11-01 01:00:00.000000","2019-12-01 01:00:00.000000"],"y":[1159.6852227812633,1334.1832369654439,1679.3633889693301,1398.6505562737584,1624.2731752570253,1587.1763622239232,1408.2528585342225,1527.2208202811889,1500.9046591771767,1398.6922944553662,1423.6892874727491,1665.6155749100726],"type":"scatter","mode":"lines","name":"Gradient Boosting Machine","line":{"color":"rgba(44,160,44,1)","dash":"dash"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="forecasting-with-the-automl-model" class="level3" data-number="42.5.6">
<h3 data-number="42.5.6" class="anchored" data-anchor-id="forecasting-with-the-automl-model"><span class="header-section-number">42.5.6</span> Forecasting with the AutoML model</h3>
<p>Let’s take a look at a third approach to tuning ML models. Here, we will use the <code>h2o.automl</code> function that provides an <strong>automated approach to training, tuning, and testing multiple ML algorithms</strong> before selecting the model that performed best based on the model’s evaluation. It utilizes algorithms such as <strong>RF</strong>, <strong>GBM</strong>, <strong>DL</strong>, and others using different tuning approaches.</p>
<p>Similarly, the <code>h2o.grid</code> function can apply any of the training approaches (CV, training with validation, and so on) during the training process of the models. Let’s use the same input as before, and train the forecasting model:</p>
<p><em>Example:</em></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>autoML1 <span class="ot">&lt;-</span> <span class="fu">h2o.automl</span>(<span class="at">training_frame =</span> train_h,</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">x =</span> x,</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">y =</span> y,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">nfolds =</span> <span class="dv">5</span>,</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">max_runtime_secs =</span> <span class="dv">60</span><span class="sc">*</span><span class="dv">20</span>,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">seed =</span> <span class="dv">1234</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that we can <strong>set the runtime</strong> of the function. A longer running time could potentially yield better results.</p>
<p>In the preceding example, the function’s running time was set to 20 minutes. The function returns a list with the leaderboard of all the tested models:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>autoML1<span class="sc">@</span>leaderboard</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="selecting-the-final-model" class="level2" data-number="42.6">
<h2 data-number="42.6" class="anchored" data-anchor-id="selecting-the-final-model"><span class="header-section-number">42.6</span> Selecting the Final Model</h2>
<p>Now that we’ve finished the training and testing process of the models, it’s time to finalize the process and <strong>choose the model to forecast</strong> with the series. We trained the following models:</p>
<ul>
<li><p><strong>Baseline model</strong>: Linear regression model with <strong>4% MAPE</strong> score on the testing partition.</p></li>
<li><p><strong>RF</strong>: Using default tuning parameters with <strong>3.74% MAPE</strong> score on the testing partition.</p></li>
<li><p><strong>RF</strong>: Using grid search for tuning the model parameters with <strong>3.33% MAPE</strong> score on the testing partition.</p></li>
<li><p><strong>GBM</strong>: Using the default tuning parameters with <strong>2.75% MAPE</strong> score on the testing partition.</p></li>
<li><p><strong>AutoML</strong>: Selecting a deep learning model with <strong>3.48% MAPE</strong> score on the testing partition.</p></li>
</ul>
<p>Since all of these models achieved better results than the baseline, we can <strong>drop the baseline model</strong>. Also, since the second RF model (with grid search) achieved better results than the first, there is no point in keeping the first model. This leaves us with three forecasting models, that is, RF (with grid search), GBM, and AutoML. Generally, since the <strong>GBM model achieved the best MAPE results</strong>, we will select it. However, it is always <strong>nice to plot</strong> the actual forecast and check what the actual forecast looks like.</p>
<p>Before we plot the results, let’s use these three models to <strong>forecast the next 12 months</strong> using the data.frame forecast we created in the Forecasting with the Random Forest model and Forecasting with the GBM model sections:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>forecast_h<span class="sc">$</span>pred_gbm <span class="ot">&lt;-</span> <span class="fu">h2o.predict</span>(gbm_md, forecast_h)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>forecast_h<span class="sc">$</span>pred_rf <span class="ot">&lt;-</span> <span class="fu">h2o.predict</span>(rf_grid_model, forecast_h)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>forecast_h<span class="sc">$</span>pred_automl <span class="ot">&lt;-</span> <span class="fu">h2o.predict</span>(autoML1<span class="sc">@</span>leader, forecast_h)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We will transform the object back into a data.frame object with the as.data.frame function:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>final_forecast <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(forecast_h)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, we can plot the final forecast with the plotly package:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(<span class="at">x =</span> df<span class="sc">$</span>date, </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> df<span class="sc">$</span>y,</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">"scatter"</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">mode =</span> <span class="st">"line"</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">name =</span> <span class="st">"Actual"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">x =</span> final_forecast<span class="sc">$</span>date, </span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">y =</span> final_forecast<span class="sc">$</span>pred_rf, </span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">name =</span> <span class="st">"Random Forest"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">x =</span> final_forecast<span class="sc">$</span>date, </span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">y =</span> final_forecast<span class="sc">$</span>pred_gbm, </span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">name =</span> <span class="st">"GBM"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_lines</span>(<span class="at">x =</span> final_forecast<span class="sc">$</span>date, </span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">y =</span> final_forecast<span class="sc">$</span>pred_automl, </span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">name =</span> <span class="st">"Auto ML"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Total Vehicle Sales - Final Forecast"</span>,</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>          <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Thousands of Units"</span>, </span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>                      <span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1100</span>, <span class="dv">1750</span>)),</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Month"</span>, </span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>                      <span class="at">range =</span> <span class="fu">c</span>(<span class="fu">as.Date</span>(<span class="st">"2016-01-01"</span>),</span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>)))</span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It seems that all <strong>three models capture the seasonality</strong> component of the vehicle sales series. However, it seems that the oscillation of <strong>AutoML</strong> is higher with respect to one of the RF and GBM models. Therefore, it would make sense to <strong>select either the GBM or RF models as the final forecast</strong>.</p>
<p>A more conservative approach would be to create and <strong>ensemble of the three forecasts</strong> by either weighted on regular average. For instance, you can use a simple function for testing the different average of different models and select the combination that minimizes the forecast error rate on the testing set.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./time_forecast_arima.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Forecasting with ARIMA Models</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./products.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Building Data Products</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>